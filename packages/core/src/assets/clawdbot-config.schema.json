{
  "schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "meta": {
        "type": "object",
        "properties": {
          "lastTouchedVersion": {
            "type": "string"
          },
          "lastTouchedAt": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "env": {
        "type": "object",
        "properties": {
          "shellEnv": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "timeoutMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "vars": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "additionalProperties": {
          "type": "string"
        }
      },
      "wizard": {
        "type": "object",
        "properties": {
          "lastRunAt": {
            "type": "string"
          },
          "lastRunVersion": {
            "type": "string"
          },
          "lastRunCommit": {
            "type": "string"
          },
          "lastRunCommand": {
            "type": "string"
          },
          "lastRunMode": {
            "anyOf": [
              {
                "type": "string",
                "const": "local"
              },
              {
                "type": "string",
                "const": "remote"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "diagnostics": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "flags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "otel": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "endpoint": {
                "type": "string"
              },
              "protocol": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "http/protobuf"
                  },
                  {
                    "type": "string",
                    "const": "grpc"
                  }
                ]
              },
              "headers": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "string"
                }
              },
              "serviceName": {
                "type": "string"
              },
              "traces": {
                "type": "boolean"
              },
              "metrics": {
                "type": "boolean"
              },
              "logs": {
                "type": "boolean"
              },
              "sampleRate": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
              },
              "flushIntervalMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "cacheTrace": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "filePath": {
                "type": "string"
              },
              "includeMessages": {
                "type": "boolean"
              },
              "includePrompt": {
                "type": "boolean"
              },
              "includeSystem": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "logging": {
        "type": "object",
        "properties": {
          "level": {
            "anyOf": [
              {
                "type": "string",
                "const": "silent"
              },
              {
                "type": "string",
                "const": "fatal"
              },
              {
                "type": "string",
                "const": "error"
              },
              {
                "type": "string",
                "const": "warn"
              },
              {
                "type": "string",
                "const": "info"
              },
              {
                "type": "string",
                "const": "debug"
              },
              {
                "type": "string",
                "const": "trace"
              }
            ]
          },
          "file": {
            "type": "string"
          },
          "consoleLevel": {
            "anyOf": [
              {
                "type": "string",
                "const": "silent"
              },
              {
                "type": "string",
                "const": "fatal"
              },
              {
                "type": "string",
                "const": "error"
              },
              {
                "type": "string",
                "const": "warn"
              },
              {
                "type": "string",
                "const": "info"
              },
              {
                "type": "string",
                "const": "debug"
              },
              {
                "type": "string",
                "const": "trace"
              }
            ]
          },
          "consoleStyle": {
            "anyOf": [
              {
                "type": "string",
                "const": "pretty"
              },
              {
                "type": "string",
                "const": "compact"
              },
              {
                "type": "string",
                "const": "json"
              }
            ]
          },
          "redactSensitive": {
            "anyOf": [
              {
                "type": "string",
                "const": "off"
              },
              {
                "type": "string",
                "const": "tools"
              }
            ]
          },
          "redactPatterns": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false
      },
      "update": {
        "type": "object",
        "properties": {
          "channel": {
            "anyOf": [
              {
                "type": "string",
                "const": "stable"
              },
              {
                "type": "string",
                "const": "beta"
              },
              {
                "type": "string",
                "const": "dev"
              }
            ]
          },
          "checkOnStart": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "browser": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "controlUrl": {
            "type": "string"
          },
          "controlToken": {
            "type": "string"
          },
          "cdpUrl": {
            "type": "string"
          },
          "remoteCdpTimeoutMs": {
            "type": "integer",
            "minimum": 0,
            "maximum": 9007199254740991
          },
          "remoteCdpHandshakeTimeoutMs": {
            "type": "integer",
            "minimum": 0,
            "maximum": 9007199254740991
          },
          "color": {
            "type": "string"
          },
          "executablePath": {
            "type": "string"
          },
          "headless": {
            "type": "boolean"
          },
          "noSandbox": {
            "type": "boolean"
          },
          "attachOnly": {
            "type": "boolean"
          },
          "defaultProfile": {
            "type": "string"
          },
          "snapshotDefaults": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "const": "efficient"
              }
            },
            "additionalProperties": false
          },
          "profiles": {
            "type": "object",
            "propertyNames": {
              "type": "string",
              "pattern": "^[a-z0-9-]+$"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "cdpPort": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 65535
                },
                "cdpUrl": {
                  "type": "string"
                },
                "driver": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "clawd"
                    },
                    {
                      "type": "string",
                      "const": "extension"
                    }
                  ]
                },
                "color": {
                  "type": "string",
                  "pattern": "^#?[0-9a-fA-F]{6}$"
                }
              },
              "required": [
                "color"
              ],
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      },
      "ui": {
        "type": "object",
        "properties": {
          "seamColor": {
            "type": "string",
            "pattern": "^#?[0-9a-fA-F]{6}$"
          },
          "assistant": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "maxLength": 50
              },
              "avatar": {
                "type": "string",
                "maxLength": 200
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "auth": {
        "type": "object",
        "properties": {
          "profiles": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "provider": {
                  "type": "string"
                },
                "mode": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "api_key"
                    },
                    {
                      "type": "string",
                      "const": "oauth"
                    },
                    {
                      "type": "string",
                      "const": "token"
                    }
                  ]
                },
                "email": {
                  "type": "string"
                }
              },
              "required": [
                "provider",
                "mode"
              ],
              "additionalProperties": false
            }
          },
          "order": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "cooldowns": {
            "type": "object",
            "properties": {
              "billingBackoffHours": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "billingBackoffHoursByProvider": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "number",
                  "exclusiveMinimum": 0
                }
              },
              "billingMaxHours": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "failureWindowHours": {
                "type": "number",
                "exclusiveMinimum": 0
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "models": {
        "type": "object",
        "properties": {
          "mode": {
            "anyOf": [
              {
                "type": "string",
                "const": "merge"
              },
              {
                "type": "string",
                "const": "replace"
              }
            ]
          },
          "providers": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "baseUrl": {
                  "type": "string",
                  "minLength": 1
                },
                "apiKey": {
                  "type": "string"
                },
                "auth": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "api-key"
                    },
                    {
                      "type": "string",
                      "const": "aws-sdk"
                    },
                    {
                      "type": "string",
                      "const": "oauth"
                    },
                    {
                      "type": "string",
                      "const": "token"
                    }
                  ]
                },
                "api": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "openai-completions"
                    },
                    {
                      "type": "string",
                      "const": "openai-responses"
                    },
                    {
                      "type": "string",
                      "const": "anthropic-messages"
                    },
                    {
                      "type": "string",
                      "const": "google-generative-ai"
                    },
                    {
                      "type": "string",
                      "const": "github-copilot"
                    },
                    {
                      "type": "string",
                      "const": "bedrock-converse-stream"
                    }
                  ]
                },
                "headers": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "authHeader": {
                  "type": "boolean"
                },
                "models": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "minLength": 1
                      },
                      "name": {
                        "type": "string",
                        "minLength": 1
                      },
                      "api": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "openai-completions"
                          },
                          {
                            "type": "string",
                            "const": "openai-responses"
                          },
                          {
                            "type": "string",
                            "const": "anthropic-messages"
                          },
                          {
                            "type": "string",
                            "const": "google-generative-ai"
                          },
                          {
                            "type": "string",
                            "const": "github-copilot"
                          },
                          {
                            "type": "string",
                            "const": "bedrock-converse-stream"
                          }
                        ]
                      },
                      "reasoning": {
                        "type": "boolean"
                      },
                      "input": {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "text"
                            },
                            {
                              "type": "string",
                              "const": "image"
                            }
                          ]
                        }
                      },
                      "cost": {
                        "type": "object",
                        "properties": {
                          "input": {
                            "type": "number"
                          },
                          "output": {
                            "type": "number"
                          },
                          "cacheRead": {
                            "type": "number"
                          },
                          "cacheWrite": {
                            "type": "number"
                          }
                        },
                        "additionalProperties": false
                      },
                      "contextWindow": {
                        "type": "number",
                        "exclusiveMinimum": 0
                      },
                      "maxTokens": {
                        "type": "number",
                        "exclusiveMinimum": 0
                      },
                      "headers": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "compat": {
                        "type": "object",
                        "properties": {
                          "supportsStore": {
                            "type": "boolean"
                          },
                          "supportsDeveloperRole": {
                            "type": "boolean"
                          },
                          "supportsReasoningEffort": {
                            "type": "boolean"
                          },
                          "maxTokensField": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "max_completion_tokens"
                              },
                              {
                                "type": "string",
                                "const": "max_tokens"
                              }
                            ]
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "id",
                      "name"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": [
                "baseUrl",
                "models"
              ],
              "additionalProperties": false
            }
          },
          "bedrockDiscovery": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "region": {
                "type": "string"
              },
              "providerFilter": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "refreshInterval": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              },
              "defaultContextWindow": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "defaultMaxTokens": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "nodeHost": {
        "type": "object",
        "properties": {
          "browserProxy": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "allowProfiles": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "agents": {
        "type": "object",
        "properties": {
          "defaults": {
            "type": "object",
            "properties": {
              "model": {
                "type": "object",
                "properties": {
                  "primary": {
                    "type": "string"
                  },
                  "fallbacks": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              },
              "imageModel": {
                "type": "object",
                "properties": {
                  "primary": {
                    "type": "string"
                  },
                  "fallbacks": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              },
              "models": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "alias": {
                      "type": "string"
                    },
                    "params": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {}
                    }
                  },
                  "additionalProperties": false
                }
              },
              "workspace": {
                "type": "string"
              },
              "repoRoot": {
                "type": "string"
              },
              "skipBootstrap": {
                "type": "boolean"
              },
              "bootstrapMaxChars": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "userTimezone": {
                "type": "string"
              },
              "timeFormat": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "auto"
                  },
                  {
                    "type": "string",
                    "const": "12"
                  },
                  {
                    "type": "string",
                    "const": "24"
                  }
                ]
              },
              "envelopeTimezone": {
                "type": "string"
              },
              "envelopeTimestamp": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "on"
                  },
                  {
                    "type": "string",
                    "const": "off"
                  }
                ]
              },
              "envelopeElapsed": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "on"
                  },
                  {
                    "type": "string",
                    "const": "off"
                  }
                ]
              },
              "contextTokens": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "cliBackends": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "command": {
                      "type": "string"
                    },
                    "args": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "output": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "json"
                        },
                        {
                          "type": "string",
                          "const": "text"
                        },
                        {
                          "type": "string",
                          "const": "jsonl"
                        }
                      ]
                    },
                    "resumeOutput": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "json"
                        },
                        {
                          "type": "string",
                          "const": "text"
                        },
                        {
                          "type": "string",
                          "const": "jsonl"
                        }
                      ]
                    },
                    "input": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "arg"
                        },
                        {
                          "type": "string",
                          "const": "stdin"
                        }
                      ]
                    },
                    "maxPromptArgChars": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    },
                    "env": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "clearEnv": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "modelArg": {
                      "type": "string"
                    },
                    "modelAliases": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "sessionArg": {
                      "type": "string"
                    },
                    "sessionArgs": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "resumeArgs": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "sessionMode": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "always"
                        },
                        {
                          "type": "string",
                          "const": "existing"
                        },
                        {
                          "type": "string",
                          "const": "none"
                        }
                      ]
                    },
                    "sessionIdFields": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "systemPromptArg": {
                      "type": "string"
                    },
                    "systemPromptMode": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "append"
                        },
                        {
                          "type": "string",
                          "const": "replace"
                        }
                      ]
                    },
                    "systemPromptWhen": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "first"
                        },
                        {
                          "type": "string",
                          "const": "always"
                        },
                        {
                          "type": "string",
                          "const": "never"
                        }
                      ]
                    },
                    "imageArg": {
                      "type": "string"
                    },
                    "imageMode": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "repeat"
                        },
                        {
                          "type": "string",
                          "const": "list"
                        }
                      ]
                    },
                    "serialize": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "command"
                  ],
                  "additionalProperties": false
                }
              },
              "memorySearch": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "sources": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "memory"
                        },
                        {
                          "type": "string",
                          "const": "sessions"
                        }
                      ]
                    }
                  },
                  "experimental": {
                    "type": "object",
                    "properties": {
                      "sessionMemory": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "provider": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "openai"
                      },
                      {
                        "type": "string",
                        "const": "local"
                      },
                      {
                        "type": "string",
                        "const": "gemini"
                      }
                    ]
                  },
                  "remote": {
                    "type": "object",
                    "properties": {
                      "baseUrl": {
                        "type": "string"
                      },
                      "apiKey": {
                        "type": "string"
                      },
                      "headers": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "batch": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean"
                          },
                          "wait": {
                            "type": "boolean"
                          },
                          "concurrency": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          },
                          "pollIntervalMs": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          },
                          "timeoutMinutes": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "fallback": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "openai"
                      },
                      {
                        "type": "string",
                        "const": "gemini"
                      },
                      {
                        "type": "string",
                        "const": "local"
                      },
                      {
                        "type": "string",
                        "const": "none"
                      }
                    ]
                  },
                  "model": {
                    "type": "string"
                  },
                  "local": {
                    "type": "object",
                    "properties": {
                      "modelPath": {
                        "type": "string"
                      },
                      "modelCacheDir": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "store": {
                    "type": "object",
                    "properties": {
                      "driver": {
                        "type": "string",
                        "const": "sqlite"
                      },
                      "path": {
                        "type": "string"
                      },
                      "vector": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean"
                          },
                          "extensionPath": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "chunking": {
                    "type": "object",
                    "properties": {
                      "tokens": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "overlap": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      }
                    },
                    "additionalProperties": false
                  },
                  "sync": {
                    "type": "object",
                    "properties": {
                      "onSessionStart": {
                        "type": "boolean"
                      },
                      "onSearch": {
                        "type": "boolean"
                      },
                      "watch": {
                        "type": "boolean"
                      },
                      "watchDebounceMs": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "intervalMinutes": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "sessions": {
                        "type": "object",
                        "properties": {
                          "deltaBytes": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          },
                          "deltaMessages": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "query": {
                    "type": "object",
                    "properties": {
                      "maxResults": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "minScore": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "hybrid": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean"
                          },
                          "vectorWeight": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "textWeight": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "candidateMultiplier": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "cache": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "maxEntries": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "contextPruning": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "off"
                      },
                      {
                        "type": "string",
                        "const": "cache-ttl"
                      }
                    ]
                  },
                  "ttl": {
                    "type": "string"
                  },
                  "keepLastAssistants": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "softTrimRatio": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "hardClearRatio": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "minPrunableToolChars": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "tools": {
                    "type": "object",
                    "properties": {
                      "allow": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "deny": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "softTrim": {
                    "type": "object",
                    "properties": {
                      "maxChars": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "headChars": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "tailChars": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      }
                    },
                    "additionalProperties": false
                  },
                  "hardClear": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "placeholder": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "compaction": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "default"
                      },
                      {
                        "type": "string",
                        "const": "safeguard"
                      }
                    ]
                  },
                  "reserveTokensFloor": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "memoryFlush": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "softThresholdTokens": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "prompt": {
                        "type": "string"
                      },
                      "systemPrompt": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "thinkingDefault": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "minimal"
                  },
                  {
                    "type": "string",
                    "const": "low"
                  },
                  {
                    "type": "string",
                    "const": "medium"
                  },
                  {
                    "type": "string",
                    "const": "high"
                  },
                  {
                    "type": "string",
                    "const": "xhigh"
                  }
                ]
              },
              "verboseDefault": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "on"
                  },
                  {
                    "type": "string",
                    "const": "full"
                  }
                ]
              },
              "elevatedDefault": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "on"
                  },
                  {
                    "type": "string",
                    "const": "ask"
                  },
                  {
                    "type": "string",
                    "const": "full"
                  }
                ]
              },
              "blockStreamingDefault": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "on"
                  }
                ]
              },
              "blockStreamingBreak": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "text_end"
                  },
                  {
                    "type": "string",
                    "const": "message_end"
                  }
                ]
              },
              "blockStreamingChunk": {
                "type": "object",
                "properties": {
                  "minChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "breakPreference": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "paragraph"
                      },
                      {
                        "type": "string",
                        "const": "newline"
                      },
                      {
                        "type": "string",
                        "const": "sentence"
                      }
                    ]
                  }
                },
                "additionalProperties": false
              },
              "blockStreamingCoalesce": {
                "type": "object",
                "properties": {
                  "minChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "idleMs": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              },
              "humanDelay": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "off"
                      },
                      {
                        "type": "string",
                        "const": "natural"
                      },
                      {
                        "type": "string",
                        "const": "custom"
                      }
                    ]
                  },
                  "minMs": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxMs": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              },
              "timeoutSeconds": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "mediaMaxMb": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "typingIntervalSeconds": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "typingMode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "never"
                  },
                  {
                    "type": "string",
                    "const": "instant"
                  },
                  {
                    "type": "string",
                    "const": "thinking"
                  },
                  {
                    "type": "string",
                    "const": "message"
                  }
                ]
              },
              "heartbeat": {
                "type": "object",
                "properties": {
                  "every": {
                    "type": "string"
                  },
                  "activeHours": {
                    "type": "object",
                    "properties": {
                      "start": {
                        "type": "string"
                      },
                      "end": {
                        "type": "string"
                      },
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "model": {
                    "type": "string"
                  },
                  "session": {
                    "type": "string"
                  },
                  "includeReasoning": {
                    "type": "boolean"
                  },
                  "target": {
                    "type": "string"
                  },
                  "to": {
                    "type": "string"
                  },
                  "prompt": {
                    "type": "string"
                  },
                  "ackMaxChars": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              },
              "maxConcurrent": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "subagents": {
                "type": "object",
                "properties": {
                  "maxConcurrent": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "archiveAfterMinutes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "model": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "primary": {
                            "type": "string"
                          },
                          "fallbacks": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "additionalProperties": false
                      }
                    ]
                  }
                },
                "additionalProperties": false
              },
              "sandbox": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "off"
                      },
                      {
                        "type": "string",
                        "const": "non-main"
                      },
                      {
                        "type": "string",
                        "const": "all"
                      }
                    ]
                  },
                  "workspaceAccess": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "none"
                      },
                      {
                        "type": "string",
                        "const": "ro"
                      },
                      {
                        "type": "string",
                        "const": "rw"
                      }
                    ]
                  },
                  "sessionToolsVisibility": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "spawned"
                      },
                      {
                        "type": "string",
                        "const": "all"
                      }
                    ]
                  },
                  "scope": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "session"
                      },
                      {
                        "type": "string",
                        "const": "agent"
                      },
                      {
                        "type": "string",
                        "const": "shared"
                      }
                    ]
                  },
                  "perSession": {
                    "type": "boolean"
                  },
                  "workspaceRoot": {
                    "type": "string"
                  },
                  "docker": {
                    "type": "object",
                    "properties": {
                      "image": {
                        "type": "string"
                      },
                      "containerPrefix": {
                        "type": "string"
                      },
                      "workdir": {
                        "type": "string"
                      },
                      "readOnlyRoot": {
                        "type": "boolean"
                      },
                      "tmpfs": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "network": {
                        "type": "string"
                      },
                      "user": {
                        "type": "string"
                      },
                      "capDrop": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "env": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "setupCommand": {
                        "type": "string"
                      },
                      "pidsLimit": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "memory": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          }
                        ]
                      },
                      "memorySwap": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          }
                        ]
                      },
                      "cpus": {
                        "type": "number",
                        "exclusiveMinimum": 0
                      },
                      "ulimits": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "soft": {
                                  "type": "integer",
                                  "minimum": 0,
                                  "maximum": 9007199254740991
                                },
                                "hard": {
                                  "type": "integer",
                                  "minimum": 0,
                                  "maximum": 9007199254740991
                                }
                              },
                              "additionalProperties": false
                            }
                          ]
                        }
                      },
                      "seccompProfile": {
                        "type": "string"
                      },
                      "apparmorProfile": {
                        "type": "string"
                      },
                      "dns": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "extraHosts": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "binds": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "browser": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "image": {
                        "type": "string"
                      },
                      "containerPrefix": {
                        "type": "string"
                      },
                      "cdpPort": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "vncPort": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "noVncPort": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "headless": {
                        "type": "boolean"
                      },
                      "enableNoVnc": {
                        "type": "boolean"
                      },
                      "allowHostControl": {
                        "type": "boolean"
                      },
                      "allowedControlUrls": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "allowedControlHosts": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "allowedControlPorts": {
                        "type": "array",
                        "items": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        }
                      },
                      "autoStart": {
                        "type": "boolean"
                      },
                      "autoStartTimeoutMs": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      }
                    },
                    "additionalProperties": false
                  },
                  "prune": {
                    "type": "object",
                    "properties": {
                      "idleHours": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      },
                      "maxAgeDays": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 9007199254740991
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "list": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "default": {
                  "type": "boolean"
                },
                "name": {
                  "type": "string"
                },
                "workspace": {
                  "type": "string"
                },
                "agentDir": {
                  "type": "string"
                },
                "model": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "primary": {
                          "type": "string"
                        },
                        "fallbacks": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "additionalProperties": false
                    }
                  ]
                },
                "memorySearch": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean"
                    },
                    "sources": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "memory"
                          },
                          {
                            "type": "string",
                            "const": "sessions"
                          }
                        ]
                      }
                    },
                    "experimental": {
                      "type": "object",
                      "properties": {
                        "sessionMemory": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "provider": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "openai"
                        },
                        {
                          "type": "string",
                          "const": "local"
                        },
                        {
                          "type": "string",
                          "const": "gemini"
                        }
                      ]
                    },
                    "remote": {
                      "type": "object",
                      "properties": {
                        "baseUrl": {
                          "type": "string"
                        },
                        "apiKey": {
                          "type": "string"
                        },
                        "headers": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "string"
                          }
                        },
                        "batch": {
                          "type": "object",
                          "properties": {
                            "enabled": {
                              "type": "boolean"
                            },
                            "wait": {
                              "type": "boolean"
                            },
                            "concurrency": {
                              "type": "integer",
                              "exclusiveMinimum": 0,
                              "maximum": 9007199254740991
                            },
                            "pollIntervalMs": {
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 9007199254740991
                            },
                            "timeoutMinutes": {
                              "type": "integer",
                              "exclusiveMinimum": 0,
                              "maximum": 9007199254740991
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "fallback": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "openai"
                        },
                        {
                          "type": "string",
                          "const": "gemini"
                        },
                        {
                          "type": "string",
                          "const": "local"
                        },
                        {
                          "type": "string",
                          "const": "none"
                        }
                      ]
                    },
                    "model": {
                      "type": "string"
                    },
                    "local": {
                      "type": "object",
                      "properties": {
                        "modelPath": {
                          "type": "string"
                        },
                        "modelCacheDir": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    },
                    "store": {
                      "type": "object",
                      "properties": {
                        "driver": {
                          "type": "string",
                          "const": "sqlite"
                        },
                        "path": {
                          "type": "string"
                        },
                        "vector": {
                          "type": "object",
                          "properties": {
                            "enabled": {
                              "type": "boolean"
                            },
                            "extensionPath": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "chunking": {
                      "type": "object",
                      "properties": {
                        "tokens": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "overlap": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        }
                      },
                      "additionalProperties": false
                    },
                    "sync": {
                      "type": "object",
                      "properties": {
                        "onSessionStart": {
                          "type": "boolean"
                        },
                        "onSearch": {
                          "type": "boolean"
                        },
                        "watch": {
                          "type": "boolean"
                        },
                        "watchDebounceMs": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        },
                        "intervalMinutes": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        },
                        "sessions": {
                          "type": "object",
                          "properties": {
                            "deltaBytes": {
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 9007199254740991
                            },
                            "deltaMessages": {
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 9007199254740991
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "query": {
                      "type": "object",
                      "properties": {
                        "maxResults": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "minScore": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 1
                        },
                        "hybrid": {
                          "type": "object",
                          "properties": {
                            "enabled": {
                              "type": "boolean"
                            },
                            "vectorWeight": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 1
                            },
                            "textWeight": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 1
                            },
                            "candidateMultiplier": {
                              "type": "integer",
                              "exclusiveMinimum": 0,
                              "maximum": 9007199254740991
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "cache": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "maxEntries": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "humanDelay": {
                  "type": "object",
                  "properties": {
                    "mode": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "off"
                        },
                        {
                          "type": "string",
                          "const": "natural"
                        },
                        {
                          "type": "string",
                          "const": "custom"
                        }
                      ]
                    },
                    "minMs": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "maxMs": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    }
                  },
                  "additionalProperties": false
                },
                "heartbeat": {
                  "type": "object",
                  "properties": {
                    "every": {
                      "type": "string"
                    },
                    "activeHours": {
                      "type": "object",
                      "properties": {
                        "start": {
                          "type": "string"
                        },
                        "end": {
                          "type": "string"
                        },
                        "timezone": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    },
                    "model": {
                      "type": "string"
                    },
                    "session": {
                      "type": "string"
                    },
                    "includeReasoning": {
                      "type": "boolean"
                    },
                    "target": {
                      "type": "string"
                    },
                    "to": {
                      "type": "string"
                    },
                    "prompt": {
                      "type": "string"
                    },
                    "ackMaxChars": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    }
                  },
                  "additionalProperties": false
                },
                "identity": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "theme": {
                      "type": "string"
                    },
                    "emoji": {
                      "type": "string"
                    },
                    "avatar": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                },
                "groupChat": {
                  "type": "object",
                  "properties": {
                    "mentionPatterns": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "historyLimit": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    }
                  },
                  "additionalProperties": false
                },
                "subagents": {
                  "type": "object",
                  "properties": {
                    "allowAgents": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "model": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "primary": {
                              "type": "string"
                            },
                            "fallbacks": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        }
                      ]
                    }
                  },
                  "additionalProperties": false
                },
                "sandbox": {
                  "type": "object",
                  "properties": {
                    "mode": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "off"
                        },
                        {
                          "type": "string",
                          "const": "non-main"
                        },
                        {
                          "type": "string",
                          "const": "all"
                        }
                      ]
                    },
                    "workspaceAccess": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "none"
                        },
                        {
                          "type": "string",
                          "const": "ro"
                        },
                        {
                          "type": "string",
                          "const": "rw"
                        }
                      ]
                    },
                    "sessionToolsVisibility": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "spawned"
                        },
                        {
                          "type": "string",
                          "const": "all"
                        }
                      ]
                    },
                    "scope": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "session"
                        },
                        {
                          "type": "string",
                          "const": "agent"
                        },
                        {
                          "type": "string",
                          "const": "shared"
                        }
                      ]
                    },
                    "perSession": {
                      "type": "boolean"
                    },
                    "workspaceRoot": {
                      "type": "string"
                    },
                    "docker": {
                      "type": "object",
                      "properties": {
                        "image": {
                          "type": "string"
                        },
                        "containerPrefix": {
                          "type": "string"
                        },
                        "workdir": {
                          "type": "string"
                        },
                        "readOnlyRoot": {
                          "type": "boolean"
                        },
                        "tmpfs": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "network": {
                          "type": "string"
                        },
                        "user": {
                          "type": "string"
                        },
                        "capDrop": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "env": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "string"
                          }
                        },
                        "setupCommand": {
                          "type": "string"
                        },
                        "pidsLimit": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "memory": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            }
                          ]
                        },
                        "memorySwap": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            }
                          ]
                        },
                        "cpus": {
                          "type": "number",
                          "exclusiveMinimum": 0
                        },
                        "ulimits": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "number"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "soft": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "hard": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  }
                                },
                                "additionalProperties": false
                              }
                            ]
                          }
                        },
                        "seccompProfile": {
                          "type": "string"
                        },
                        "apparmorProfile": {
                          "type": "string"
                        },
                        "dns": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "extraHosts": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "binds": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "browser": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "image": {
                          "type": "string"
                        },
                        "containerPrefix": {
                          "type": "string"
                        },
                        "cdpPort": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "vncPort": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "noVncPort": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "headless": {
                          "type": "boolean"
                        },
                        "enableNoVnc": {
                          "type": "boolean"
                        },
                        "allowHostControl": {
                          "type": "boolean"
                        },
                        "allowedControlUrls": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "allowedControlHosts": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "allowedControlPorts": {
                          "type": "array",
                          "items": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "autoStart": {
                          "type": "boolean"
                        },
                        "autoStartTimeoutMs": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        }
                      },
                      "additionalProperties": false
                    },
                    "prune": {
                      "type": "object",
                      "properties": {
                        "idleHours": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        },
                        "maxAgeDays": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "tools": {
                  "type": "object",
                  "properties": {
                    "profile": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "minimal"
                        },
                        {
                          "type": "string",
                          "const": "coding"
                        },
                        {
                          "type": "string",
                          "const": "messaging"
                        },
                        {
                          "type": "string",
                          "const": "full"
                        }
                      ]
                    },
                    "allow": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "deny": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "byProvider": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "allow": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "deny": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "profile": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "minimal"
                              },
                              {
                                "type": "string",
                                "const": "coding"
                              },
                              {
                                "type": "string",
                                "const": "messaging"
                              },
                              {
                                "type": "string",
                                "const": "full"
                              }
                            ]
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "elevated": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "allowFrom": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "exec": {
                      "type": "object",
                      "properties": {
                        "host": {
                          "type": "string",
                          "enum": [
                            "sandbox",
                            "gateway",
                            "node"
                          ]
                        },
                        "security": {
                          "type": "string",
                          "enum": [
                            "deny",
                            "allowlist",
                            "full"
                          ]
                        },
                        "ask": {
                          "type": "string",
                          "enum": [
                            "off",
                            "on-miss",
                            "always"
                          ]
                        },
                        "node": {
                          "type": "string"
                        },
                        "pathPrepend": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "safeBins": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "backgroundMs": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "timeoutSec": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "approvalRunningNoticeMs": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 9007199254740991
                        },
                        "cleanupMs": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "notifyOnExit": {
                          "type": "boolean"
                        },
                        "applyPatch": {
                          "type": "object",
                          "properties": {
                            "enabled": {
                              "type": "boolean"
                            },
                            "allowModels": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "sandbox": {
                      "type": "object",
                      "properties": {
                        "tools": {
                          "type": "object",
                          "properties": {
                            "allow": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "deny": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                }
              },
              "required": [
                "id"
              ],
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      },
      "tools": {
        "type": "object",
        "properties": {
          "profile": {
            "anyOf": [
              {
                "type": "string",
                "const": "minimal"
              },
              {
                "type": "string",
                "const": "coding"
              },
              {
                "type": "string",
                "const": "messaging"
              },
              {
                "type": "string",
                "const": "full"
              }
            ]
          },
          "allow": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "deny": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "byProvider": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "allow": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "deny": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "profile": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "minimal"
                    },
                    {
                      "type": "string",
                      "const": "coding"
                    },
                    {
                      "type": "string",
                      "const": "messaging"
                    },
                    {
                      "type": "string",
                      "const": "full"
                    }
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "web": {
            "type": "object",
            "properties": {
              "search": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "provider": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "brave"
                      },
                      {
                        "type": "string",
                        "const": "perplexity"
                      }
                    ]
                  },
                  "apiKey": {
                    "type": "string"
                  },
                  "maxResults": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "timeoutSeconds": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "cacheTtlMinutes": {
                    "type": "number",
                    "minimum": 0
                  },
                  "perplexity": {
                    "type": "object",
                    "properties": {
                      "apiKey": {
                        "type": "string"
                      },
                      "baseUrl": {
                        "type": "string"
                      },
                      "model": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "fetch": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "timeoutSeconds": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "cacheTtlMinutes": {
                    "type": "number",
                    "minimum": 0
                  },
                  "maxRedirects": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "userAgent": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "media": {
            "type": "object",
            "properties": {
              "models": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "provider": {
                      "type": "string"
                    },
                    "model": {
                      "type": "string"
                    },
                    "capabilities": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "image"
                          },
                          {
                            "type": "string",
                            "const": "audio"
                          },
                          {
                            "type": "string",
                            "const": "video"
                          }
                        ]
                      }
                    },
                    "type": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "provider"
                        },
                        {
                          "type": "string",
                          "const": "cli"
                        }
                      ]
                    },
                    "command": {
                      "type": "string"
                    },
                    "args": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "prompt": {
                      "type": "string"
                    },
                    "maxChars": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    },
                    "maxBytes": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    },
                    "timeoutSeconds": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    },
                    "language": {
                      "type": "string"
                    },
                    "providerOptions": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      }
                    },
                    "deepgram": {
                      "type": "object",
                      "properties": {
                        "detectLanguage": {
                          "type": "boolean"
                        },
                        "punctuate": {
                          "type": "boolean"
                        },
                        "smartFormat": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "baseUrl": {
                      "type": "string"
                    },
                    "headers": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "profile": {
                      "type": "string"
                    },
                    "preferredProfile": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "concurrency": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "image": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "scope": {
                    "type": "object",
                    "properties": {
                      "default": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "allow"
                          },
                          {
                            "type": "string",
                            "const": "deny"
                          }
                        ]
                      },
                      "rules": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "action": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "allow"
                                },
                                {
                                  "type": "string",
                                  "const": "deny"
                                }
                              ]
                            },
                            "match": {
                              "type": "object",
                              "properties": {
                                "channel": {
                                  "type": "string"
                                },
                                "chatType": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "const": "direct"
                                    },
                                    {
                                      "type": "string",
                                      "const": "group"
                                    },
                                    {
                                      "type": "string",
                                      "const": "channel"
                                    }
                                  ]
                                },
                                "keyPrefix": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "action"
                          ],
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "maxBytes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "prompt": {
                    "type": "string"
                  },
                  "timeoutSeconds": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "language": {
                    "type": "string"
                  },
                  "providerOptions": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    }
                  },
                  "deepgram": {
                    "type": "object",
                    "properties": {
                      "detectLanguage": {
                        "type": "boolean"
                      },
                      "punctuate": {
                        "type": "boolean"
                      },
                      "smartFormat": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "baseUrl": {
                    "type": "string"
                  },
                  "headers": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "attachments": {
                    "type": "object",
                    "properties": {
                      "mode": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "all"
                          }
                        ]
                      },
                      "maxAttachments": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "prefer": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "last"
                          },
                          {
                            "type": "string",
                            "const": "path"
                          },
                          {
                            "type": "string",
                            "const": "url"
                          }
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "models": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "provider": {
                          "type": "string"
                        },
                        "model": {
                          "type": "string"
                        },
                        "capabilities": {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "image"
                              },
                              {
                                "type": "string",
                                "const": "audio"
                              },
                              {
                                "type": "string",
                                "const": "video"
                              }
                            ]
                          }
                        },
                        "type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "provider"
                            },
                            {
                              "type": "string",
                              "const": "cli"
                            }
                          ]
                        },
                        "command": {
                          "type": "string"
                        },
                        "args": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "prompt": {
                          "type": "string"
                        },
                        "maxChars": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "maxBytes": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "timeoutSeconds": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "language": {
                          "type": "string"
                        },
                        "providerOptions": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "object",
                            "propertyNames": {
                              "type": "string"
                            },
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          }
                        },
                        "deepgram": {
                          "type": "object",
                          "properties": {
                            "detectLanguage": {
                              "type": "boolean"
                            },
                            "punctuate": {
                              "type": "boolean"
                            },
                            "smartFormat": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        },
                        "baseUrl": {
                          "type": "string"
                        },
                        "headers": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "string"
                          }
                        },
                        "profile": {
                          "type": "string"
                        },
                        "preferredProfile": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "audio": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "scope": {
                    "type": "object",
                    "properties": {
                      "default": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "allow"
                          },
                          {
                            "type": "string",
                            "const": "deny"
                          }
                        ]
                      },
                      "rules": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "action": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "allow"
                                },
                                {
                                  "type": "string",
                                  "const": "deny"
                                }
                              ]
                            },
                            "match": {
                              "type": "object",
                              "properties": {
                                "channel": {
                                  "type": "string"
                                },
                                "chatType": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "const": "direct"
                                    },
                                    {
                                      "type": "string",
                                      "const": "group"
                                    },
                                    {
                                      "type": "string",
                                      "const": "channel"
                                    }
                                  ]
                                },
                                "keyPrefix": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "action"
                          ],
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "maxBytes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "prompt": {
                    "type": "string"
                  },
                  "timeoutSeconds": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "language": {
                    "type": "string"
                  },
                  "providerOptions": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    }
                  },
                  "deepgram": {
                    "type": "object",
                    "properties": {
                      "detectLanguage": {
                        "type": "boolean"
                      },
                      "punctuate": {
                        "type": "boolean"
                      },
                      "smartFormat": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "baseUrl": {
                    "type": "string"
                  },
                  "headers": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "attachments": {
                    "type": "object",
                    "properties": {
                      "mode": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "all"
                          }
                        ]
                      },
                      "maxAttachments": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "prefer": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "last"
                          },
                          {
                            "type": "string",
                            "const": "path"
                          },
                          {
                            "type": "string",
                            "const": "url"
                          }
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "models": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "provider": {
                          "type": "string"
                        },
                        "model": {
                          "type": "string"
                        },
                        "capabilities": {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "image"
                              },
                              {
                                "type": "string",
                                "const": "audio"
                              },
                              {
                                "type": "string",
                                "const": "video"
                              }
                            ]
                          }
                        },
                        "type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "provider"
                            },
                            {
                              "type": "string",
                              "const": "cli"
                            }
                          ]
                        },
                        "command": {
                          "type": "string"
                        },
                        "args": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "prompt": {
                          "type": "string"
                        },
                        "maxChars": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "maxBytes": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "timeoutSeconds": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "language": {
                          "type": "string"
                        },
                        "providerOptions": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "object",
                            "propertyNames": {
                              "type": "string"
                            },
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          }
                        },
                        "deepgram": {
                          "type": "object",
                          "properties": {
                            "detectLanguage": {
                              "type": "boolean"
                            },
                            "punctuate": {
                              "type": "boolean"
                            },
                            "smartFormat": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        },
                        "baseUrl": {
                          "type": "string"
                        },
                        "headers": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "string"
                          }
                        },
                        "profile": {
                          "type": "string"
                        },
                        "preferredProfile": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "video": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "scope": {
                    "type": "object",
                    "properties": {
                      "default": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "allow"
                          },
                          {
                            "type": "string",
                            "const": "deny"
                          }
                        ]
                      },
                      "rules": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "action": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "allow"
                                },
                                {
                                  "type": "string",
                                  "const": "deny"
                                }
                              ]
                            },
                            "match": {
                              "type": "object",
                              "properties": {
                                "channel": {
                                  "type": "string"
                                },
                                "chatType": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "const": "direct"
                                    },
                                    {
                                      "type": "string",
                                      "const": "group"
                                    },
                                    {
                                      "type": "string",
                                      "const": "channel"
                                    }
                                  ]
                                },
                                "keyPrefix": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "action"
                          ],
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "maxBytes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "maxChars": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "prompt": {
                    "type": "string"
                  },
                  "timeoutSeconds": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "language": {
                    "type": "string"
                  },
                  "providerOptions": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    }
                  },
                  "deepgram": {
                    "type": "object",
                    "properties": {
                      "detectLanguage": {
                        "type": "boolean"
                      },
                      "punctuate": {
                        "type": "boolean"
                      },
                      "smartFormat": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "baseUrl": {
                    "type": "string"
                  },
                  "headers": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "attachments": {
                    "type": "object",
                    "properties": {
                      "mode": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "all"
                          }
                        ]
                      },
                      "maxAttachments": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "prefer": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "first"
                          },
                          {
                            "type": "string",
                            "const": "last"
                          },
                          {
                            "type": "string",
                            "const": "path"
                          },
                          {
                            "type": "string",
                            "const": "url"
                          }
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "models": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "provider": {
                          "type": "string"
                        },
                        "model": {
                          "type": "string"
                        },
                        "capabilities": {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "image"
                              },
                              {
                                "type": "string",
                                "const": "audio"
                              },
                              {
                                "type": "string",
                                "const": "video"
                              }
                            ]
                          }
                        },
                        "type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "provider"
                            },
                            {
                              "type": "string",
                              "const": "cli"
                            }
                          ]
                        },
                        "command": {
                          "type": "string"
                        },
                        "args": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "prompt": {
                          "type": "string"
                        },
                        "maxChars": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "maxBytes": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "timeoutSeconds": {
                          "type": "integer",
                          "exclusiveMinimum": 0,
                          "maximum": 9007199254740991
                        },
                        "language": {
                          "type": "string"
                        },
                        "providerOptions": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "object",
                            "propertyNames": {
                              "type": "string"
                            },
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          }
                        },
                        "deepgram": {
                          "type": "object",
                          "properties": {
                            "detectLanguage": {
                              "type": "boolean"
                            },
                            "punctuate": {
                              "type": "boolean"
                            },
                            "smartFormat": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        },
                        "baseUrl": {
                          "type": "string"
                        },
                        "headers": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "type": "string"
                          }
                        },
                        "profile": {
                          "type": "string"
                        },
                        "preferredProfile": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "links": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "scope": {
                "type": "object",
                "properties": {
                  "default": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "allow"
                      },
                      {
                        "type": "string",
                        "const": "deny"
                      }
                    ]
                  },
                  "rules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "action": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "allow"
                            },
                            {
                              "type": "string",
                              "const": "deny"
                            }
                          ]
                        },
                        "match": {
                          "type": "object",
                          "properties": {
                            "channel": {
                              "type": "string"
                            },
                            "chatType": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "direct"
                                },
                                {
                                  "type": "string",
                                  "const": "group"
                                },
                                {
                                  "type": "string",
                                  "const": "channel"
                                }
                              ]
                            },
                            "keyPrefix": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "required": [
                        "action"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "maxLinks": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "timeoutSeconds": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "models": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "const": "cli"
                    },
                    "command": {
                      "type": "string",
                      "minLength": 1
                    },
                    "args": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "timeoutSeconds": {
                      "type": "integer",
                      "exclusiveMinimum": 0,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": [
                    "command"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "additionalProperties": false
          },
          "message": {
            "type": "object",
            "properties": {
              "allowCrossContextSend": {
                "type": "boolean"
              },
              "crossContext": {
                "type": "object",
                "properties": {
                  "allowWithinProvider": {
                    "type": "boolean"
                  },
                  "allowAcrossProviders": {
                    "type": "boolean"
                  },
                  "marker": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "prefix": {
                        "type": "string"
                      },
                      "suffix": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "broadcast": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "agentToAgent": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "allow": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          },
          "elevated": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "allowFrom": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  }
                }
              }
            },
            "additionalProperties": false
          },
          "exec": {
            "type": "object",
            "properties": {
              "host": {
                "type": "string",
                "enum": [
                  "sandbox",
                  "gateway",
                  "node"
                ]
              },
              "security": {
                "type": "string",
                "enum": [
                  "deny",
                  "allowlist",
                  "full"
                ]
              },
              "ask": {
                "type": "string",
                "enum": [
                  "off",
                  "on-miss",
                  "always"
                ]
              },
              "node": {
                "type": "string"
              },
              "pathPrepend": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "safeBins": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "backgroundMs": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "timeoutSec": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "cleanupMs": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "notifyOnExit": {
                "type": "boolean"
              },
              "applyPatch": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "allowModels": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "subagents": {
            "type": "object",
            "properties": {
              "tools": {
                "type": "object",
                "properties": {
                  "allow": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "deny": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "sandbox": {
            "type": "object",
            "properties": {
              "tools": {
                "type": "object",
                "properties": {
                  "allow": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "deny": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "bindings": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "agentId": {
              "type": "string"
            },
            "match": {
              "type": "object",
              "properties": {
                "channel": {
                  "type": "string"
                },
                "accountId": {
                  "type": "string"
                },
                "peer": {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "dm"
                        },
                        {
                          "type": "string",
                          "const": "group"
                        },
                        {
                          "type": "string",
                          "const": "channel"
                        }
                      ]
                    },
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "kind",
                    "id"
                  ],
                  "additionalProperties": false
                },
                "guildId": {
                  "type": "string"
                },
                "teamId": {
                  "type": "string"
                }
              },
              "required": [
                "channel"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "agentId",
            "match"
          ],
          "additionalProperties": false
        }
      },
      "broadcast": {
        "type": "object",
        "properties": {
          "strategy": {
            "type": "string",
            "enum": [
              "parallel",
              "sequential"
            ]
          }
        },
        "additionalProperties": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "audio": {
        "type": "object",
        "properties": {
          "transcription": {
            "type": "object",
            "properties": {
              "command": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "timeoutSeconds": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              }
            },
            "required": [
              "command"
            ],
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "media": {
        "type": "object",
        "properties": {
          "preserveFilenames": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "messages": {
        "type": "object",
        "properties": {
          "messagePrefix": {
            "type": "string"
          },
          "responsePrefix": {
            "type": "string"
          },
          "groupChat": {
            "type": "object",
            "properties": {
              "mentionPatterns": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "historyLimit": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "queue": {
            "type": "object",
            "properties": {
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "steer"
                  },
                  {
                    "type": "string",
                    "const": "followup"
                  },
                  {
                    "type": "string",
                    "const": "collect"
                  },
                  {
                    "type": "string",
                    "const": "steer-backlog"
                  },
                  {
                    "type": "string",
                    "const": "steer+backlog"
                  },
                  {
                    "type": "string",
                    "const": "queue"
                  },
                  {
                    "type": "string",
                    "const": "interrupt"
                  }
                ]
              },
              "byChannel": {
                "type": "object",
                "properties": {
                  "whatsapp": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "telegram": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "discord": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "slack": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "mattermost": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "signal": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "imessage": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "msteams": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  },
                  "webchat": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "steer"
                      },
                      {
                        "type": "string",
                        "const": "followup"
                      },
                      {
                        "type": "string",
                        "const": "collect"
                      },
                      {
                        "type": "string",
                        "const": "steer-backlog"
                      },
                      {
                        "type": "string",
                        "const": "steer+backlog"
                      },
                      {
                        "type": "string",
                        "const": "queue"
                      },
                      {
                        "type": "string",
                        "const": "interrupt"
                      }
                    ]
                  }
                },
                "additionalProperties": false
              },
              "debounceMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              },
              "debounceMsByChannel": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 9007199254740991
                }
              },
              "cap": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "drop": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "old"
                  },
                  {
                    "type": "string",
                    "const": "new"
                  },
                  {
                    "type": "string",
                    "const": "summarize"
                  }
                ]
              }
            },
            "additionalProperties": false
          },
          "inbound": {
            "type": "object",
            "properties": {
              "debounceMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              },
              "byChannel": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 9007199254740991
                }
              }
            },
            "additionalProperties": false
          },
          "ackReaction": {
            "type": "string"
          },
          "ackReactionScope": {
            "type": "string",
            "enum": [
              "group-mentions",
              "group-all",
              "direct",
              "all"
            ]
          },
          "removeAckAfterReply": {
            "type": "boolean"
          },
          "tts": {
            "type": "object",
            "properties": {
              "auto": {
                "type": "string",
                "enum": [
                  "off",
                  "always",
                  "inbound",
                  "tagged"
                ]
              },
              "enabled": {
                "type": "boolean"
              },
              "mode": {
                "type": "string",
                "enum": [
                  "final",
                  "all"
                ]
              },
              "provider": {
                "type": "string",
                "enum": [
                  "elevenlabs",
                  "openai",
                  "edge"
                ]
              },
              "summaryModel": {
                "type": "string"
              },
              "modelOverrides": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "allowText": {
                    "type": "boolean"
                  },
                  "allowProvider": {
                    "type": "boolean"
                  },
                  "allowVoice": {
                    "type": "boolean"
                  },
                  "allowModelId": {
                    "type": "boolean"
                  },
                  "allowVoiceSettings": {
                    "type": "boolean"
                  },
                  "allowNormalization": {
                    "type": "boolean"
                  },
                  "allowSeed": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              },
              "elevenlabs": {
                "type": "object",
                "properties": {
                  "apiKey": {
                    "type": "string"
                  },
                  "baseUrl": {
                    "type": "string"
                  },
                  "voiceId": {
                    "type": "string"
                  },
                  "modelId": {
                    "type": "string"
                  },
                  "seed": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 4294967295
                  },
                  "applyTextNormalization": {
                    "type": "string",
                    "enum": [
                      "auto",
                      "on",
                      "off"
                    ]
                  },
                  "languageCode": {
                    "type": "string"
                  },
                  "voiceSettings": {
                    "type": "object",
                    "properties": {
                      "stability": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "similarityBoost": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "style": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "useSpeakerBoost": {
                        "type": "boolean"
                      },
                      "speed": {
                        "type": "number",
                        "minimum": 0.5,
                        "maximum": 2
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "openai": {
                "type": "object",
                "properties": {
                  "apiKey": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "voice": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "edge": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "voice": {
                    "type": "string"
                  },
                  "lang": {
                    "type": "string"
                  },
                  "outputFormat": {
                    "type": "string"
                  },
                  "pitch": {
                    "type": "string"
                  },
                  "rate": {
                    "type": "string"
                  },
                  "volume": {
                    "type": "string"
                  },
                  "saveSubtitles": {
                    "type": "boolean"
                  },
                  "proxy": {
                    "type": "string"
                  },
                  "timeoutMs": {
                    "type": "integer",
                    "minimum": 1000,
                    "maximum": 120000
                  }
                },
                "additionalProperties": false
              },
              "prefsPath": {
                "type": "string"
              },
              "maxTextLength": {
                "type": "integer",
                "minimum": 1,
                "maximum": 9007199254740991
              },
              "timeoutMs": {
                "type": "integer",
                "minimum": 1000,
                "maximum": 120000
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "commands": {
        "default": {
          "native": "auto",
          "nativeSkills": "auto"
        },
        "type": "object",
        "properties": {
          "native": {
            "default": "auto",
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "string",
                "const": "auto"
              }
            ]
          },
          "nativeSkills": {
            "default": "auto",
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "string",
                "const": "auto"
              }
            ]
          },
          "text": {
            "type": "boolean"
          },
          "bash": {
            "type": "boolean"
          },
          "bashForegroundMs": {
            "type": "integer",
            "minimum": 0,
            "maximum": 30000
          },
          "config": {
            "type": "boolean"
          },
          "debug": {
            "type": "boolean"
          },
          "restart": {
            "type": "boolean"
          },
          "useAccessGroups": {
            "type": "boolean"
          }
        },
        "required": [
          "native",
          "nativeSkills"
        ],
        "additionalProperties": false
      },
      "approvals": {
        "type": "object",
        "properties": {
          "exec": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "session"
                  },
                  {
                    "type": "string",
                    "const": "targets"
                  },
                  {
                    "type": "string",
                    "const": "both"
                  }
                ]
              },
              "agentFilter": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "sessionFilter": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "targets": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "channel": {
                      "type": "string",
                      "minLength": 1
                    },
                    "to": {
                      "type": "string",
                      "minLength": 1
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "threadId": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "number"
                        }
                      ]
                    }
                  },
                  "required": [
                    "channel",
                    "to"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "session": {
        "type": "object",
        "properties": {
          "scope": {
            "anyOf": [
              {
                "type": "string",
                "const": "per-sender"
              },
              {
                "type": "string",
                "const": "global"
              }
            ]
          },
          "dmScope": {
            "anyOf": [
              {
                "type": "string",
                "const": "main"
              },
              {
                "type": "string",
                "const": "per-peer"
              },
              {
                "type": "string",
                "const": "per-channel-peer"
              }
            ]
          },
          "identityLinks": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "resetTriggers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "idleMinutes": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "reset": {
            "type": "object",
            "properties": {
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "daily"
                  },
                  {
                    "type": "string",
                    "const": "idle"
                  }
                ]
              },
              "atHour": {
                "type": "integer",
                "minimum": 0,
                "maximum": 23
              },
              "idleMinutes": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "resetByType": {
            "type": "object",
            "properties": {
              "dm": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "daily"
                      },
                      {
                        "type": "string",
                        "const": "idle"
                      }
                    ]
                  },
                  "atHour": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 23
                  },
                  "idleMinutes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              },
              "group": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "daily"
                      },
                      {
                        "type": "string",
                        "const": "idle"
                      }
                    ]
                  },
                  "atHour": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 23
                  },
                  "idleMinutes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              },
              "thread": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "daily"
                      },
                      {
                        "type": "string",
                        "const": "idle"
                      }
                    ]
                  },
                  "atHour": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 23
                  },
                  "idleMinutes": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "resetByChannel": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "mode": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "daily"
                    },
                    {
                      "type": "string",
                      "const": "idle"
                    }
                  ]
                },
                "atHour": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 23
                },
                "idleMinutes": {
                  "type": "integer",
                  "exclusiveMinimum": 0,
                  "maximum": 9007199254740991
                }
              },
              "additionalProperties": false
            }
          },
          "store": {
            "type": "string"
          },
          "typingIntervalSeconds": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "typingMode": {
            "anyOf": [
              {
                "type": "string",
                "const": "never"
              },
              {
                "type": "string",
                "const": "instant"
              },
              {
                "type": "string",
                "const": "thinking"
              },
              {
                "type": "string",
                "const": "message"
              }
            ]
          },
          "mainKey": {
            "type": "string"
          },
          "sendPolicy": {
            "type": "object",
            "properties": {
              "default": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "allow"
                  },
                  {
                    "type": "string",
                    "const": "deny"
                  }
                ]
              },
              "rules": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "allow"
                        },
                        {
                          "type": "string",
                          "const": "deny"
                        }
                      ]
                    },
                    "match": {
                      "type": "object",
                      "properties": {
                        "channel": {
                          "type": "string"
                        },
                        "chatType": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "direct"
                            },
                            {
                              "type": "string",
                              "const": "group"
                            },
                            {
                              "type": "string",
                              "const": "channel"
                            }
                          ]
                        },
                        "keyPrefix": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "action"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "additionalProperties": false
          },
          "agentToAgent": {
            "type": "object",
            "properties": {
              "maxPingPongTurns": {
                "type": "integer",
                "minimum": 0,
                "maximum": 5
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "cron": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "store": {
            "type": "string"
          },
          "maxConcurrentRuns": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          }
        },
        "additionalProperties": false
      },
      "hooks": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "path": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "maxBodyBytes": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "presets": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "transformsDir": {
            "type": "string"
          },
          "mappings": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "match": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "source": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                },
                "action": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "wake"
                    },
                    {
                      "type": "string",
                      "const": "agent"
                    }
                  ]
                },
                "wakeMode": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "now"
                    },
                    {
                      "type": "string",
                      "const": "next-heartbeat"
                    }
                  ]
                },
                "name": {
                  "type": "string"
                },
                "sessionKey": {
                  "type": "string"
                },
                "messageTemplate": {
                  "type": "string"
                },
                "textTemplate": {
                  "type": "string"
                },
                "deliver": {
                  "type": "boolean"
                },
                "channel": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "last"
                    },
                    {
                      "type": "string",
                      "const": "whatsapp"
                    },
                    {
                      "type": "string",
                      "const": "telegram"
                    },
                    {
                      "type": "string",
                      "const": "discord"
                    },
                    {
                      "type": "string",
                      "const": "slack"
                    },
                    {
                      "type": "string",
                      "const": "signal"
                    },
                    {
                      "type": "string",
                      "const": "imessage"
                    },
                    {
                      "type": "string",
                      "const": "msteams"
                    }
                  ]
                },
                "to": {
                  "type": "string"
                },
                "model": {
                  "type": "string"
                },
                "thinking": {
                  "type": "string"
                },
                "timeoutSeconds": {
                  "type": "integer",
                  "exclusiveMinimum": 0,
                  "maximum": 9007199254740991
                },
                "transform": {
                  "type": "object",
                  "properties": {
                    "module": {
                      "type": "string"
                    },
                    "export": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "module"
                  ],
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            }
          },
          "gmail": {
            "type": "object",
            "properties": {
              "account": {
                "type": "string"
              },
              "label": {
                "type": "string"
              },
              "topic": {
                "type": "string"
              },
              "subscription": {
                "type": "string"
              },
              "pushToken": {
                "type": "string"
              },
              "hookUrl": {
                "type": "string"
              },
              "includeBody": {
                "type": "boolean"
              },
              "maxBytes": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "renewEveryMinutes": {
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "serve": {
                "type": "object",
                "properties": {
                  "bind": {
                    "type": "string"
                  },
                  "port": {
                    "type": "integer",
                    "exclusiveMinimum": 0,
                    "maximum": 9007199254740991
                  },
                  "path": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "tailscale": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "off"
                      },
                      {
                        "type": "string",
                        "const": "serve"
                      },
                      {
                        "type": "string",
                        "const": "funnel"
                      }
                    ]
                  },
                  "path": {
                    "type": "string"
                  },
                  "target": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "model": {
                "type": "string"
              },
              "thinking": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "minimal"
                  },
                  {
                    "type": "string",
                    "const": "low"
                  },
                  {
                    "type": "string",
                    "const": "medium"
                  },
                  {
                    "type": "string",
                    "const": "high"
                  }
                ]
              }
            },
            "additionalProperties": false
          },
          "internal": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "handlers": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "event": {
                      "type": "string"
                    },
                    "module": {
                      "type": "string"
                    },
                    "export": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "event",
                    "module"
                  ],
                  "additionalProperties": false
                }
              },
              "entries": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean"
                    },
                    "env": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "additionalProperties": false
                }
              },
              "load": {
                "type": "object",
                "properties": {
                  "extraDirs": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              },
              "installs": {
                "type": "object",
                "propertyNames": {
                  "type": "string"
                },
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "source": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "npm"
                        },
                        {
                          "type": "string",
                          "const": "archive"
                        },
                        {
                          "type": "string",
                          "const": "path"
                        }
                      ]
                    },
                    "spec": {
                      "type": "string"
                    },
                    "sourcePath": {
                      "type": "string"
                    },
                    "installPath": {
                      "type": "string"
                    },
                    "version": {
                      "type": "string"
                    },
                    "installedAt": {
                      "type": "string"
                    },
                    "hooks": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "source"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "web": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "heartbeatSeconds": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "reconnect": {
            "type": "object",
            "properties": {
              "initialMs": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "maxMs": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "factor": {
                "type": "number",
                "exclusiveMinimum": 0
              },
              "jitter": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
              },
              "maxAttempts": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "channels": {
        "type": "object",
        "properties": {},
        "additionalProperties": true,
        "required": []
      },
      "discovery": {
        "type": "object",
        "properties": {
          "wideArea": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "canvasHost": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "root": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "liveReload": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "talk": {
        "type": "object",
        "properties": {
          "voiceId": {
            "type": "string"
          },
          "voiceAliases": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "string"
            }
          },
          "modelId": {
            "type": "string"
          },
          "outputFormat": {
            "type": "string"
          },
          "apiKey": {
            "type": "string"
          },
          "interruptOnSpeech": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "gateway": {
        "type": "object",
        "properties": {
          "port": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "maximum": 9007199254740991
          },
          "mode": {
            "anyOf": [
              {
                "type": "string",
                "const": "local"
              },
              {
                "type": "string",
                "const": "remote"
              }
            ]
          },
          "bind": {
            "anyOf": [
              {
                "type": "string",
                "const": "auto"
              },
              {
                "type": "string",
                "const": "lan"
              },
              {
                "type": "string",
                "const": "loopback"
              },
              {
                "type": "string",
                "const": "custom"
              },
              {
                "type": "string",
                "const": "tailnet"
              }
            ]
          },
          "controlUi": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "basePath": {
                "type": "string"
              },
              "allowInsecureAuth": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          },
          "auth": {
            "type": "object",
            "properties": {
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "token"
                  },
                  {
                    "type": "string",
                    "const": "password"
                  }
                ]
              },
              "token": {
                "type": "string"
              },
              "password": {
                "type": "string"
              },
              "allowTailscale": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          },
          "trustedProxies": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tailscale": {
            "type": "object",
            "properties": {
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "serve"
                  },
                  {
                    "type": "string",
                    "const": "funnel"
                  }
                ]
              },
              "resetOnExit": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          },
          "remote": {
            "type": "object",
            "properties": {
              "url": {
                "type": "string"
              },
              "transport": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "ssh"
                  },
                  {
                    "type": "string",
                    "const": "direct"
                  }
                ]
              },
              "token": {
                "type": "string"
              },
              "password": {
                "type": "string"
              },
              "tlsFingerprint": {
                "type": "string"
              },
              "sshTarget": {
                "type": "string"
              },
              "sshIdentity": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "reload": {
            "type": "object",
            "properties": {
              "mode": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "off"
                  },
                  {
                    "type": "string",
                    "const": "restart"
                  },
                  {
                    "type": "string",
                    "const": "hot"
                  },
                  {
                    "type": "string",
                    "const": "hybrid"
                  }
                ]
              },
              "debounceMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "tls": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean"
              },
              "autoGenerate": {
                "type": "boolean"
              },
              "certPath": {
                "type": "string"
              },
              "keyPath": {
                "type": "string"
              },
              "caPath": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "http": {
            "type": "object",
            "properties": {
              "endpoints": {
                "type": "object",
                "properties": {
                  "chatCompletions": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "responses": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean"
                      },
                      "maxBodyBytes": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "maximum": 9007199254740991
                      },
                      "files": {
                        "type": "object",
                        "properties": {
                          "allowUrl": {
                            "type": "boolean"
                          },
                          "allowedMimes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "maxBytes": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          },
                          "maxChars": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          },
                          "maxRedirects": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          },
                          "timeoutMs": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          },
                          "pdf": {
                            "type": "object",
                            "properties": {
                              "maxPages": {
                                "type": "integer",
                                "exclusiveMinimum": 0,
                                "maximum": 9007199254740991
                              },
                              "maxPixels": {
                                "type": "integer",
                                "exclusiveMinimum": 0,
                                "maximum": 9007199254740991
                              },
                              "minTextChars": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 9007199254740991
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false
                      },
                      "images": {
                        "type": "object",
                        "properties": {
                          "allowUrl": {
                            "type": "boolean"
                          },
                          "allowedMimes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "maxBytes": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          },
                          "maxRedirects": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          },
                          "timeoutMs": {
                            "type": "integer",
                            "exclusiveMinimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "nodes": {
            "type": "object",
            "properties": {
              "browser": {
                "type": "object",
                "properties": {
                  "mode": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "auto"
                      },
                      {
                        "type": "string",
                        "const": "manual"
                      },
                      {
                        "type": "string",
                        "const": "off"
                      }
                    ]
                  },
                  "node": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "allowCommands": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "denyCommands": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "skills": {
        "type": "object",
        "properties": {
          "allowBundled": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "load": {
            "type": "object",
            "properties": {
              "extraDirs": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "watch": {
                "type": "boolean"
              },
              "watchDebounceMs": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "additionalProperties": false
          },
          "install": {
            "type": "object",
            "properties": {
              "preferBrew": {
                "type": "boolean"
              },
              "nodeManager": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "npm"
                  },
                  {
                    "type": "string",
                    "const": "pnpm"
                  },
                  {
                    "type": "string",
                    "const": "yarn"
                  },
                  {
                    "type": "string",
                    "const": "bun"
                  }
                ]
              }
            },
            "additionalProperties": false
          },
          "entries": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "apiKey": {
                  "type": "string"
                },
                "env": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "config": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {}
                }
              },
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      },
      "plugins": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "allow": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "deny": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "load": {
            "type": "object",
            "properties": {
              "paths": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          },
          "slots": {
            "type": "object",
            "properties": {
              "memory": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "entries": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "config": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {}
                }
              },
              "additionalProperties": false
            }
          },
          "installs": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "object",
              "properties": {
                "source": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "npm"
                    },
                    {
                      "type": "string",
                      "const": "archive"
                    },
                    {
                      "type": "string",
                      "const": "path"
                    }
                  ]
                },
                "spec": {
                  "type": "string"
                },
                "sourcePath": {
                  "type": "string"
                },
                "installPath": {
                  "type": "string"
                },
                "version": {
                  "type": "string"
                },
                "installedAt": {
                  "type": "string"
                }
              },
              "required": [
                "source"
              ],
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      }
    },
    "required": [
      "commands"
    ],
    "additionalProperties": false,
    "title": "ClawdbotConfig"
  },
  "uiHints": {
    "wizard": {
      "label": "Wizard",
      "group": "Wizard",
      "order": 20
    },
    "update": {
      "label": "Update",
      "group": "Update",
      "order": 25
    },
    "diagnostics": {
      "label": "Diagnostics",
      "group": "Diagnostics",
      "order": 27
    },
    "logging": {
      "label": "Logging",
      "group": "Logging",
      "order": 900
    },
    "gateway": {
      "label": "Gateway",
      "group": "Gateway",
      "order": 30
    },
    "nodeHost": {
      "label": "Node Host",
      "group": "Node Host",
      "order": 35
    },
    "agents": {
      "label": "Agents",
      "group": "Agents",
      "order": 40
    },
    "tools": {
      "label": "Tools",
      "group": "Tools",
      "order": 50
    },
    "bindings": {
      "label": "Bindings",
      "group": "Bindings",
      "order": 55
    },
    "audio": {
      "label": "Audio",
      "group": "Audio",
      "order": 60
    },
    "models": {
      "label": "Models",
      "group": "Models",
      "order": 70
    },
    "messages": {
      "label": "Messages",
      "group": "Messages",
      "order": 80
    },
    "commands": {
      "label": "Commands",
      "group": "Commands",
      "order": 85
    },
    "session": {
      "label": "Session",
      "group": "Session",
      "order": 90
    },
    "cron": {
      "label": "Cron",
      "group": "Cron",
      "order": 100
    },
    "hooks": {
      "label": "Hooks",
      "group": "Hooks",
      "order": 110
    },
    "ui": {
      "label": "UI",
      "group": "UI",
      "order": 120
    },
    "browser": {
      "label": "Browser",
      "group": "Browser",
      "order": 130
    },
    "talk": {
      "label": "Talk",
      "group": "Talk",
      "order": 140
    },
    "channels": {
      "label": "Messaging Channels",
      "group": "Messaging Channels",
      "order": 150
    },
    "skills": {
      "label": "Skills",
      "group": "Skills",
      "order": 200
    },
    "plugins": {
      "label": "Plugins",
      "group": "Plugins",
      "order": 205
    },
    "discovery": {
      "label": "Discovery",
      "group": "Discovery",
      "order": 210
    },
    "presence": {
      "label": "Presence",
      "group": "Presence",
      "order": 220
    },
    "voicewake": {
      "label": "Voice Wake",
      "group": "Voice Wake",
      "order": 230
    },
    "meta.lastTouchedVersion": {
      "label": "Config Last Touched Version",
      "help": "Auto-set when Clawdbot writes the config."
    },
    "meta.lastTouchedAt": {
      "label": "Config Last Touched At",
      "help": "ISO timestamp of the last config write (auto-set)."
    },
    "update.channel": {
      "label": "Update Channel",
      "help": "Update channel for git + npm installs (\"stable\", \"beta\", or \"dev\")."
    },
    "update.checkOnStart": {
      "label": "Update Check on Start",
      "help": "Check for npm updates when the gateway starts (default: true)."
    },
    "diagnostics.enabled": {
      "label": "Diagnostics Enabled"
    },
    "diagnostics.flags": {
      "label": "Diagnostics Flags",
      "help": "Enable targeted diagnostics logs by flag (e.g. [\"telegram.http\"]). Supports wildcards like \"telegram.*\" or \"*\"."
    },
    "diagnostics.otel.enabled": {
      "label": "OpenTelemetry Enabled"
    },
    "diagnostics.otel.endpoint": {
      "label": "OpenTelemetry Endpoint"
    },
    "diagnostics.otel.protocol": {
      "label": "OpenTelemetry Protocol"
    },
    "diagnostics.otel.headers": {
      "label": "OpenTelemetry Headers"
    },
    "diagnostics.otel.serviceName": {
      "label": "OpenTelemetry Service Name"
    },
    "diagnostics.otel.traces": {
      "label": "OpenTelemetry Traces Enabled"
    },
    "diagnostics.otel.metrics": {
      "label": "OpenTelemetry Metrics Enabled"
    },
    "diagnostics.otel.logs": {
      "label": "OpenTelemetry Logs Enabled"
    },
    "diagnostics.otel.sampleRate": {
      "label": "OpenTelemetry Trace Sample Rate"
    },
    "diagnostics.otel.flushIntervalMs": {
      "label": "OpenTelemetry Flush Interval (ms)"
    },
    "diagnostics.cacheTrace.enabled": {
      "label": "Cache Trace Enabled",
      "help": "Log cache trace snapshots for embedded agent runs (default: false)."
    },
    "diagnostics.cacheTrace.filePath": {
      "label": "Cache Trace File Path",
      "help": "JSONL output path for cache trace logs (default: $CLAWDBOT_STATE_DIR/logs/cache-trace.jsonl)."
    },
    "diagnostics.cacheTrace.includeMessages": {
      "label": "Cache Trace Include Messages",
      "help": "Include full message payloads in trace output (default: true)."
    },
    "diagnostics.cacheTrace.includePrompt": {
      "label": "Cache Trace Include Prompt",
      "help": "Include prompt text in trace output (default: true)."
    },
    "diagnostics.cacheTrace.includeSystem": {
      "label": "Cache Trace Include System",
      "help": "Include system prompt in trace output (default: true)."
    },
    "agents.list.*.identity.avatar": {
      "label": "Identity Avatar",
      "help": "Agent avatar (workspace-relative path, http(s) URL, or data URI)."
    },
    "gateway.remote.url": {
      "label": "Remote Gateway URL",
      "help": "Remote Gateway WebSocket URL (ws:// or wss://).",
      "placeholder": "ws://host:18789"
    },
    "gateway.remote.sshTarget": {
      "label": "Remote Gateway SSH Target",
      "help": "Remote gateway over SSH (tunnels the gateway port to localhost). Format: user@host or user@host:port.",
      "placeholder": "user@host"
    },
    "gateway.remote.sshIdentity": {
      "label": "Remote Gateway SSH Identity",
      "help": "Optional SSH identity file path (passed to ssh -i)."
    },
    "gateway.remote.token": {
      "label": "Remote Gateway Token",
      "sensitive": true
    },
    "gateway.remote.password": {
      "label": "Remote Gateway Password",
      "sensitive": true
    },
    "gateway.remote.tlsFingerprint": {
      "label": "Remote Gateway TLS Fingerprint",
      "help": "Expected sha256 TLS fingerprint for the remote gateway (pin to avoid MITM).",
      "placeholder": "sha256:ab12cd34"
    },
    "gateway.auth.token": {
      "label": "Gateway Token",
      "help": "Recommended for all gateways; required for non-loopback binds.",
      "sensitive": true
    },
    "gateway.auth.password": {
      "label": "Gateway Password",
      "help": "Required for Tailscale funnel.",
      "sensitive": true
    },
    "tools.media.image.enabled": {
      "label": "Enable Image Understanding"
    },
    "tools.media.image.maxBytes": {
      "label": "Image Understanding Max Bytes"
    },
    "tools.media.image.maxChars": {
      "label": "Image Understanding Max Chars"
    },
    "tools.media.image.prompt": {
      "label": "Image Understanding Prompt"
    },
    "tools.media.image.timeoutSeconds": {
      "label": "Image Understanding Timeout (sec)"
    },
    "tools.media.image.attachments": {
      "label": "Image Understanding Attachment Policy"
    },
    "tools.media.image.models": {
      "label": "Image Understanding Models"
    },
    "tools.media.image.scope": {
      "label": "Image Understanding Scope"
    },
    "tools.media.models": {
      "label": "Media Understanding Shared Models"
    },
    "tools.media.concurrency": {
      "label": "Media Understanding Concurrency"
    },
    "tools.media.audio.enabled": {
      "label": "Enable Audio Understanding"
    },
    "tools.media.audio.maxBytes": {
      "label": "Audio Understanding Max Bytes"
    },
    "tools.media.audio.maxChars": {
      "label": "Audio Understanding Max Chars"
    },
    "tools.media.audio.prompt": {
      "label": "Audio Understanding Prompt"
    },
    "tools.media.audio.timeoutSeconds": {
      "label": "Audio Understanding Timeout (sec)"
    },
    "tools.media.audio.language": {
      "label": "Audio Understanding Language"
    },
    "tools.media.audio.attachments": {
      "label": "Audio Understanding Attachment Policy"
    },
    "tools.media.audio.models": {
      "label": "Audio Understanding Models"
    },
    "tools.media.audio.scope": {
      "label": "Audio Understanding Scope"
    },
    "tools.media.video.enabled": {
      "label": "Enable Video Understanding"
    },
    "tools.media.video.maxBytes": {
      "label": "Video Understanding Max Bytes"
    },
    "tools.media.video.maxChars": {
      "label": "Video Understanding Max Chars"
    },
    "tools.media.video.prompt": {
      "label": "Video Understanding Prompt"
    },
    "tools.media.video.timeoutSeconds": {
      "label": "Video Understanding Timeout (sec)"
    },
    "tools.media.video.attachments": {
      "label": "Video Understanding Attachment Policy"
    },
    "tools.media.video.models": {
      "label": "Video Understanding Models"
    },
    "tools.media.video.scope": {
      "label": "Video Understanding Scope"
    },
    "tools.links.enabled": {
      "label": "Enable Link Understanding"
    },
    "tools.links.maxLinks": {
      "label": "Link Understanding Max Links"
    },
    "tools.links.timeoutSeconds": {
      "label": "Link Understanding Timeout (sec)"
    },
    "tools.links.models": {
      "label": "Link Understanding Models"
    },
    "tools.links.scope": {
      "label": "Link Understanding Scope"
    },
    "tools.profile": {
      "label": "Tool Profile"
    },
    "agents.list[].tools.profile": {
      "label": "Agent Tool Profile"
    },
    "tools.byProvider": {
      "label": "Tool Policy by Provider"
    },
    "agents.list[].tools.byProvider": {
      "label": "Agent Tool Policy by Provider"
    },
    "tools.exec.applyPatch.enabled": {
      "label": "Enable apply_patch",
      "help": "Experimental. Enables apply_patch for OpenAI models when allowed by tool policy."
    },
    "tools.exec.applyPatch.allowModels": {
      "label": "apply_patch Model Allowlist",
      "help": "Optional allowlist of model ids (e.g. \"gpt-5.2\" or \"openai/gpt-5.2\")."
    },
    "tools.exec.notifyOnExit": {
      "label": "Exec Notify On Exit",
      "help": "When true (default), backgrounded exec sessions enqueue a system event and request a heartbeat on exit."
    },
    "tools.exec.approvalRunningNoticeMs": {
      "label": "Exec Approval Running Notice (ms)"
    },
    "tools.exec.host": {
      "label": "Exec Host"
    },
    "tools.exec.security": {
      "label": "Exec Security"
    },
    "tools.exec.ask": {
      "label": "Exec Ask"
    },
    "tools.exec.node": {
      "label": "Exec Node Binding"
    },
    "tools.exec.pathPrepend": {
      "label": "Exec PATH Prepend",
      "help": "Directories to prepend to PATH for exec runs (gateway/sandbox)."
    },
    "tools.exec.safeBins": {
      "label": "Exec Safe Bins",
      "help": "Allow stdin-only safe binaries to run without explicit allowlist entries."
    },
    "tools.message.allowCrossContextSend": {
      "label": "Allow Cross-Context Messaging",
      "help": "Legacy override: allow cross-context sends across all providers."
    },
    "tools.message.crossContext.allowWithinProvider": {
      "label": "Allow Cross-Context (Same Provider)",
      "help": "Allow sends to other channels within the same provider (default: true)."
    },
    "tools.message.crossContext.allowAcrossProviders": {
      "label": "Allow Cross-Context (Across Providers)",
      "help": "Allow sends across different providers (default: false)."
    },
    "tools.message.crossContext.marker.enabled": {
      "label": "Cross-Context Marker",
      "help": "Add a visible origin marker when sending cross-context (default: true)."
    },
    "tools.message.crossContext.marker.prefix": {
      "label": "Cross-Context Marker Prefix",
      "help": "Text prefix for cross-context markers (supports \"{channel}\")."
    },
    "tools.message.crossContext.marker.suffix": {
      "label": "Cross-Context Marker Suffix",
      "help": "Text suffix for cross-context markers (supports \"{channel}\")."
    },
    "tools.message.broadcast.enabled": {
      "label": "Enable Message Broadcast",
      "help": "Enable broadcast action (default: true)."
    },
    "tools.web.search.enabled": {
      "label": "Enable Web Search Tool",
      "help": "Enable the web_search tool (requires a provider API key)."
    },
    "tools.web.search.provider": {
      "label": "Web Search Provider",
      "help": "Search provider (\"brave\" or \"perplexity\")."
    },
    "tools.web.search.apiKey": {
      "label": "Brave Search API Key",
      "help": "Brave Search API key (fallback: BRAVE_API_KEY env var).",
      "sensitive": true
    },
    "tools.web.search.maxResults": {
      "label": "Web Search Max Results",
      "help": "Default number of results to return (1-10)."
    },
    "tools.web.search.timeoutSeconds": {
      "label": "Web Search Timeout (sec)",
      "help": "Timeout in seconds for web_search requests."
    },
    "tools.web.search.cacheTtlMinutes": {
      "label": "Web Search Cache TTL (min)",
      "help": "Cache TTL in minutes for web_search results."
    },
    "tools.web.fetch.enabled": {
      "label": "Enable Web Fetch Tool",
      "help": "Enable the web_fetch tool (lightweight HTTP fetch)."
    },
    "tools.web.fetch.maxChars": {
      "label": "Web Fetch Max Chars",
      "help": "Max characters returned by web_fetch (truncated)."
    },
    "tools.web.fetch.timeoutSeconds": {
      "label": "Web Fetch Timeout (sec)",
      "help": "Timeout in seconds for web_fetch requests."
    },
    "tools.web.fetch.cacheTtlMinutes": {
      "label": "Web Fetch Cache TTL (min)",
      "help": "Cache TTL in minutes for web_fetch results."
    },
    "tools.web.fetch.maxRedirects": {
      "label": "Web Fetch Max Redirects",
      "help": "Maximum redirects allowed for web_fetch (default: 3)."
    },
    "tools.web.fetch.userAgent": {
      "label": "Web Fetch User-Agent",
      "help": "Override User-Agent header for web_fetch requests."
    },
    "gateway.controlUi.basePath": {
      "label": "Control UI Base Path",
      "help": "Optional URL prefix where the Control UI is served (e.g. /clawdbot).",
      "placeholder": "/clawdbot"
    },
    "gateway.controlUi.allowInsecureAuth": {
      "label": "Allow Insecure Control UI Auth",
      "help": "Allow Control UI auth over insecure HTTP (token-only; not recommended)."
    },
    "gateway.http.endpoints.chatCompletions.enabled": {
      "label": "OpenAI Chat Completions Endpoint",
      "help": "Enable the OpenAI-compatible `POST /v1/chat/completions` endpoint (default: false)."
    },
    "gateway.reload.mode": {
      "label": "Config Reload Mode",
      "help": "Hot reload strategy for config changes (\"hybrid\" recommended)."
    },
    "gateway.reload.debounceMs": {
      "label": "Config Reload Debounce (ms)",
      "help": "Debounce window (ms) before applying config changes."
    },
    "gateway.nodes.browser.mode": {
      "label": "Gateway Node Browser Mode",
      "help": "Node browser routing (\"auto\" = pick single connected browser node, \"manual\" = require node param, \"off\" = disable)."
    },
    "gateway.nodes.browser.node": {
      "label": "Gateway Node Browser Pin",
      "help": "Pin browser routing to a specific node id or name (optional)."
    },
    "gateway.nodes.allowCommands": {
      "label": "Gateway Node Allowlist (Extra Commands)",
      "help": "Extra node.invoke commands to allow beyond the gateway defaults (array of command strings)."
    },
    "gateway.nodes.denyCommands": {
      "label": "Gateway Node Denylist",
      "help": "Commands to block even if present in node claims or default allowlist."
    },
    "nodeHost.browserProxy.enabled": {
      "label": "Node Browser Proxy Enabled",
      "help": "Expose the local browser control server via node proxy."
    },
    "nodeHost.browserProxy.allowProfiles": {
      "label": "Node Browser Proxy Allowed Profiles",
      "help": "Optional allowlist of browser profile names exposed via the node proxy."
    },
    "skills.load.watch": {
      "label": "Watch Skills"
    },
    "skills.load.watchDebounceMs": {
      "label": "Skills Watch Debounce (ms)"
    },
    "agents.defaults.workspace": {
      "label": "Workspace"
    },
    "agents.defaults.repoRoot": {
      "label": "Repo Root",
      "help": "Optional repository root shown in the system prompt runtime line (overrides auto-detect)."
    },
    "agents.defaults.bootstrapMaxChars": {
      "label": "Bootstrap Max Chars",
      "help": "Max characters of each workspace bootstrap file injected into the system prompt before truncation (default: 20000)."
    },
    "agents.defaults.envelopeTimezone": {
      "label": "Envelope Timezone",
      "help": "Timezone for message envelopes (\"utc\", \"local\", \"user\", or an IANA timezone string)."
    },
    "agents.defaults.envelopeTimestamp": {
      "label": "Envelope Timestamp",
      "help": "Include absolute timestamps in message envelopes (\"on\" or \"off\")."
    },
    "agents.defaults.envelopeElapsed": {
      "label": "Envelope Elapsed",
      "help": "Include elapsed time in message envelopes (\"on\" or \"off\")."
    },
    "agents.defaults.memorySearch": {
      "label": "Memory Search",
      "help": "Vector search over MEMORY.md and memory/*.md (per-agent overrides supported)."
    },
    "agents.defaults.memorySearch.enabled": {
      "label": "Enable Memory Search"
    },
    "agents.defaults.memorySearch.sources": {
      "label": "Memory Search Sources",
      "help": "Sources to index for memory search (default: [\"memory\"]; add \"sessions\" to include session transcripts)."
    },
    "agents.defaults.memorySearch.experimental.sessionMemory": {
      "label": "Memory Search Session Index (Experimental)",
      "help": "Enable experimental session transcript indexing for memory search (default: false)."
    },
    "agents.defaults.memorySearch.provider": {
      "label": "Memory Search Provider",
      "help": "Embedding provider (\"openai\", \"gemini\", or \"local\")."
    },
    "agents.defaults.memorySearch.remote.baseUrl": {
      "label": "Remote Embedding Base URL",
      "help": "Custom base URL for remote embeddings (OpenAI-compatible proxies or Gemini overrides)."
    },
    "agents.defaults.memorySearch.remote.apiKey": {
      "label": "Remote Embedding API Key",
      "help": "Custom API key for the remote embedding provider.",
      "sensitive": true
    },
    "agents.defaults.memorySearch.remote.headers": {
      "label": "Remote Embedding Headers",
      "help": "Extra headers for remote embeddings (merged; remote overrides OpenAI headers)."
    },
    "agents.defaults.memorySearch.remote.batch.concurrency": {
      "label": "Remote Batch Concurrency",
      "help": "Max concurrent embedding batch jobs for memory indexing (default: 2)."
    },
    "agents.defaults.memorySearch.model": {
      "label": "Memory Search Model"
    },
    "agents.defaults.memorySearch.fallback": {
      "label": "Memory Search Fallback",
      "help": "Fallback provider when embeddings fail (\"openai\", \"gemini\", \"local\", or \"none\")."
    },
    "agents.defaults.memorySearch.local.modelPath": {
      "label": "Local Embedding Model Path",
      "help": "Local GGUF model path or hf: URI (node-llama-cpp)."
    },
    "agents.defaults.memorySearch.store.path": {
      "label": "Memory Search Index Path",
      "help": "SQLite index path (default: ~/.clawdbot/memory/{agentId}.sqlite)."
    },
    "agents.defaults.memorySearch.store.vector.enabled": {
      "label": "Memory Search Vector Index",
      "help": "Enable sqlite-vec extension for vector search (default: true)."
    },
    "agents.defaults.memorySearch.store.vector.extensionPath": {
      "label": "Memory Search Vector Extension Path",
      "help": "Optional override path to sqlite-vec extension library (.dylib/.so/.dll)."
    },
    "agents.defaults.memorySearch.chunking.tokens": {
      "label": "Memory Chunk Tokens",
      "sensitive": true
    },
    "agents.defaults.memorySearch.chunking.overlap": {
      "label": "Memory Chunk Overlap Tokens"
    },
    "agents.defaults.memorySearch.sync.onSessionStart": {
      "label": "Index on Session Start"
    },
    "agents.defaults.memorySearch.sync.onSearch": {
      "label": "Index on Search (Lazy)",
      "help": "Lazy sync: schedule a reindex on search after changes."
    },
    "agents.defaults.memorySearch.sync.watch": {
      "label": "Watch Memory Files",
      "help": "Watch memory files for changes (chokidar)."
    },
    "agents.defaults.memorySearch.sync.watchDebounceMs": {
      "label": "Memory Watch Debounce (ms)"
    },
    "agents.defaults.memorySearch.sync.sessions.deltaBytes": {
      "label": "Session Delta Bytes",
      "help": "Minimum appended bytes before session transcripts trigger reindex (default: 100000)."
    },
    "agents.defaults.memorySearch.sync.sessions.deltaMessages": {
      "label": "Session Delta Messages",
      "help": "Minimum appended JSONL lines before session transcripts trigger reindex (default: 50)."
    },
    "agents.defaults.memorySearch.query.maxResults": {
      "label": "Memory Search Max Results"
    },
    "agents.defaults.memorySearch.query.minScore": {
      "label": "Memory Search Min Score"
    },
    "agents.defaults.memorySearch.query.hybrid.enabled": {
      "label": "Memory Search Hybrid",
      "help": "Enable hybrid BM25 + vector search for memory (default: true)."
    },
    "agents.defaults.memorySearch.query.hybrid.vectorWeight": {
      "label": "Memory Search Vector Weight",
      "help": "Weight for vector similarity when merging results (0-1)."
    },
    "agents.defaults.memorySearch.query.hybrid.textWeight": {
      "label": "Memory Search Text Weight",
      "help": "Weight for BM25 text relevance when merging results (0-1)."
    },
    "agents.defaults.memorySearch.query.hybrid.candidateMultiplier": {
      "label": "Memory Search Hybrid Candidate Multiplier",
      "help": "Multiplier for candidate pool size (default: 4)."
    },
    "agents.defaults.memorySearch.cache.enabled": {
      "label": "Memory Search Embedding Cache",
      "help": "Cache chunk embeddings in SQLite to speed up reindexing and frequent updates (default: true)."
    },
    "agents.defaults.memorySearch.cache.maxEntries": {
      "label": "Memory Search Embedding Cache Max Entries",
      "help": "Optional cap on cached embeddings (best-effort)."
    },
    "auth.profiles": {
      "label": "Auth Profiles",
      "help": "Named auth profiles (provider + mode + optional email)."
    },
    "auth.order": {
      "label": "Auth Profile Order",
      "help": "Ordered auth profile IDs per provider (used for automatic failover)."
    },
    "auth.cooldowns.billingBackoffHours": {
      "label": "Billing Backoff (hours)",
      "help": "Base backoff (hours) when a profile fails due to billing/insufficient credits (default: 5)."
    },
    "auth.cooldowns.billingBackoffHoursByProvider": {
      "label": "Billing Backoff Overrides",
      "help": "Optional per-provider overrides for billing backoff (hours)."
    },
    "auth.cooldowns.billingMaxHours": {
      "label": "Billing Backoff Cap (hours)",
      "help": "Cap (hours) for billing backoff (default: 24)."
    },
    "auth.cooldowns.failureWindowHours": {
      "label": "Failover Window (hours)",
      "help": "Failure window (hours) for backoff counters (default: 24)."
    },
    "agents.defaults.models": {
      "label": "Models",
      "help": "Configured model catalog (keys are full provider/model IDs)."
    },
    "agents.defaults.model.primary": {
      "label": "Primary Model",
      "help": "Primary model (provider/model)."
    },
    "agents.defaults.model.fallbacks": {
      "label": "Model Fallbacks",
      "help": "Ordered fallback models (provider/model). Used when the primary model fails."
    },
    "agents.defaults.imageModel.primary": {
      "label": "Image Model",
      "help": "Optional image model (provider/model) used when the primary model lacks image input."
    },
    "agents.defaults.imageModel.fallbacks": {
      "label": "Image Model Fallbacks",
      "help": "Ordered fallback image models (provider/model)."
    },
    "agents.defaults.humanDelay.mode": {
      "label": "Human Delay Mode",
      "help": "Delay style for block replies (\"off\", \"natural\", \"custom\")."
    },
    "agents.defaults.humanDelay.minMs": {
      "label": "Human Delay Min (ms)",
      "help": "Minimum delay in ms for custom humanDelay (default: 800)."
    },
    "agents.defaults.humanDelay.maxMs": {
      "label": "Human Delay Max (ms)",
      "help": "Maximum delay in ms for custom humanDelay (default: 2500)."
    },
    "agents.defaults.cliBackends": {
      "label": "CLI Backends",
      "help": "Optional CLI backends for text-only fallback (claude-cli, etc.)."
    },
    "commands.native": {
      "label": "Native Commands",
      "help": "Register native commands with channels that support it (Discord/Slack/Telegram)."
    },
    "commands.nativeSkills": {
      "label": "Native Skill Commands",
      "help": "Register native skill commands (user-invocable skills) with channels that support it."
    },
    "commands.text": {
      "label": "Text Commands",
      "help": "Allow text command parsing (slash commands only)."
    },
    "commands.bash": {
      "label": "Allow Bash Chat Command",
      "help": "Allow bash chat command (`!`; `/bash` alias) to run host shell commands (default: false; requires tools.elevated)."
    },
    "commands.bashForegroundMs": {
      "label": "Bash Foreground Window (ms)",
      "help": "How long bash waits before backgrounding (default: 2000; 0 backgrounds immediately)."
    },
    "commands.config": {
      "label": "Allow /config",
      "help": "Allow /config chat command to read/write config on disk (default: false)."
    },
    "commands.debug": {
      "label": "Allow /debug",
      "help": "Allow /debug chat command for runtime-only overrides (default: false)."
    },
    "commands.restart": {
      "label": "Allow Restart",
      "help": "Allow /restart and gateway restart tool actions (default: false)."
    },
    "commands.useAccessGroups": {
      "label": "Use Access Groups",
      "help": "Enforce access-group allowlists/policies for commands."
    },
    "ui.seamColor": {
      "label": "Accent Color"
    },
    "ui.assistant.name": {
      "label": "Assistant Name"
    },
    "ui.assistant.avatar": {
      "label": "Assistant Avatar"
    },
    "browser.controlUrl": {
      "label": "Browser Control URL"
    },
    "browser.snapshotDefaults": {
      "label": "Browser Snapshot Defaults"
    },
    "browser.snapshotDefaults.mode": {
      "label": "Browser Snapshot Mode"
    },
    "browser.remoteCdpTimeoutMs": {
      "label": "Remote CDP Timeout (ms)"
    },
    "browser.remoteCdpHandshakeTimeoutMs": {
      "label": "Remote CDP Handshake Timeout (ms)"
    },
    "session.dmScope": {
      "label": "DM Session Scope",
      "help": "DM session scoping: \"main\" keeps continuity; \"per-peer\" or \"per-channel-peer\" isolates DM history (recommended for shared inboxes)."
    },
    "session.agentToAgent.maxPingPongTurns": {
      "label": "Agent-to-Agent Ping-Pong Turns",
      "help": "Max reply-back turns between requester and target (05)."
    },
    "messages.ackReaction": {
      "label": "Ack Reaction Emoji",
      "help": "Emoji reaction used to acknowledge inbound messages (empty disables)."
    },
    "messages.ackReactionScope": {
      "label": "Ack Reaction Scope",
      "help": "When to send ack reactions (\"group-mentions\", \"group-all\", \"direct\", \"all\")."
    },
    "messages.inbound.debounceMs": {
      "label": "Inbound Message Debounce (ms)",
      "help": "Debounce window (ms) for batching rapid inbound messages from the same sender (0 to disable)."
    },
    "talk.apiKey": {
      "label": "Talk API Key",
      "sensitive": true
    },
    "channels.whatsapp": {
      "label": "WhatsApp"
    },
    "channels.telegram": {
      "label": "Telegram"
    },
    "channels.telegram.customCommands": {
      "label": "Telegram Custom Commands",
      "help": "Additional Telegram bot menu commands (merged with native; conflicts ignored)."
    },
    "channels.discord": {
      "label": "Discord"
    },
    "channels.slack": {
      "label": "Slack"
    },
    "channels.mattermost": {
      "label": "Mattermost"
    },
    "channels.signal": {
      "label": "Signal"
    },
    "channels.imessage": {
      "label": "iMessage"
    },
    "channels.bluebubbles": {
      "label": "BlueBubbles"
    },
    "channels.msteams": {
      "label": "MS Teams"
    },
    "channels.telegram.botToken": {
      "label": "Telegram Bot Token",
      "sensitive": true
    },
    "channels.telegram.dmPolicy": {
      "label": "Telegram DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.telegram.allowFrom=[\"*\"]."
    },
    "channels.telegram.streamMode": {
      "label": "Telegram Draft Stream Mode",
      "help": "Draft streaming mode for Telegram replies (off | partial | block). Separate from block streaming; requires private topics + sendMessageDraft."
    },
    "channels.telegram.draftChunk.minChars": {
      "label": "Telegram Draft Chunk Min Chars",
      "help": "Minimum chars before emitting a Telegram draft update when channels.telegram.streamMode=\"block\" (default: 200)."
    },
    "channels.telegram.draftChunk.maxChars": {
      "label": "Telegram Draft Chunk Max Chars",
      "help": "Target max size for a Telegram draft update chunk when channels.telegram.streamMode=\"block\" (default: 800; clamped to channels.telegram.textChunkLimit)."
    },
    "channels.telegram.draftChunk.breakPreference": {
      "label": "Telegram Draft Chunk Break Preference",
      "help": "Preferred breakpoints for Telegram draft chunks (paragraph | newline | sentence). Default: paragraph."
    },
    "channels.telegram.retry.attempts": {
      "label": "Telegram Retry Attempts",
      "help": "Max retry attempts for outbound Telegram API calls (default: 3)."
    },
    "channels.telegram.retry.minDelayMs": {
      "label": "Telegram Retry Min Delay (ms)",
      "help": "Minimum retry delay in ms for Telegram outbound calls."
    },
    "channels.telegram.retry.maxDelayMs": {
      "label": "Telegram Retry Max Delay (ms)",
      "help": "Maximum retry delay cap in ms for Telegram outbound calls."
    },
    "channels.telegram.retry.jitter": {
      "label": "Telegram Retry Jitter",
      "help": "Jitter factor (0-1) applied to Telegram retry delays."
    },
    "channels.telegram.timeoutSeconds": {
      "label": "Telegram API Timeout (seconds)",
      "help": "Max seconds before Telegram API requests are aborted (default: 500 per grammY)."
    },
    "channels.telegram.capabilities.inlineButtons": {
      "label": "Telegram Inline Buttons"
    },
    "channels.whatsapp.dmPolicy": {
      "label": "WhatsApp DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.whatsapp.allowFrom=[\"*\"]."
    },
    "channels.whatsapp.selfChatMode": {
      "label": "WhatsApp Self-Phone Mode",
      "help": "Same-phone setup (bot uses your personal WhatsApp number)."
    },
    "channels.whatsapp.debounceMs": {
      "label": "WhatsApp Message Debounce (ms)",
      "help": "Debounce window (ms) for batching rapid consecutive messages from the same sender (0 to disable)."
    },
    "channels.signal.dmPolicy": {
      "label": "Signal DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.signal.allowFrom=[\"*\"]."
    },
    "channels.imessage.dmPolicy": {
      "label": "iMessage DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.imessage.allowFrom=[\"*\"]."
    },
    "channels.bluebubbles.dmPolicy": {
      "label": "BlueBubbles DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.bluebubbles.allowFrom=[\"*\"]."
    },
    "channels.discord.dm.policy": {
      "label": "Discord DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.discord.dm.allowFrom=[\"*\"]."
    },
    "channels.discord.retry.attempts": {
      "label": "Discord Retry Attempts",
      "help": "Max retry attempts for outbound Discord API calls (default: 3)."
    },
    "channels.discord.retry.minDelayMs": {
      "label": "Discord Retry Min Delay (ms)",
      "help": "Minimum retry delay in ms for Discord outbound calls."
    },
    "channels.discord.retry.maxDelayMs": {
      "label": "Discord Retry Max Delay (ms)",
      "help": "Maximum retry delay cap in ms for Discord outbound calls."
    },
    "channels.discord.retry.jitter": {
      "label": "Discord Retry Jitter",
      "help": "Jitter factor (0-1) applied to Discord retry delays."
    },
    "channels.discord.maxLinesPerMessage": {
      "label": "Discord Max Lines Per Message",
      "help": "Soft max line count per Discord message (default: 17)."
    },
    "channels.slack.dm.policy": {
      "label": "Slack DM Policy",
      "help": "Direct message access control (\"pairing\" recommended). \"open\" requires channels.slack.dm.allowFrom=[\"*\"]."
    },
    "channels.slack.allowBots": {
      "label": "Slack Allow Bot Messages",
      "help": "Allow bot-authored messages to trigger Slack replies (default: false)."
    },
    "channels.discord.token": {
      "label": "Discord Bot Token",
      "sensitive": true
    },
    "channels.slack.botToken": {
      "label": "Slack Bot Token",
      "sensitive": true
    },
    "channels.slack.appToken": {
      "label": "Slack App Token",
      "sensitive": true
    },
    "channels.slack.userToken": {
      "label": "Slack User Token",
      "sensitive": true
    },
    "channels.slack.userTokenReadOnly": {
      "label": "Slack User Token Read Only",
      "sensitive": true
    },
    "channels.slack.thread.historyScope": {
      "label": "Slack Thread History Scope",
      "help": "Scope for Slack thread history context (\"thread\" isolates per thread; \"channel\" reuses channel history)."
    },
    "channels.slack.thread.inheritParent": {
      "label": "Slack Thread Parent Inheritance",
      "help": "If true, Slack thread sessions inherit the parent channel transcript (default: false)."
    },
    "channels.mattermost.botToken": {
      "label": "Mattermost Bot Token",
      "help": "Bot token from Mattermost System Console -> Integrations -> Bot Accounts.",
      "sensitive": true
    },
    "channels.mattermost.baseUrl": {
      "label": "Mattermost Base URL",
      "help": "Base URL for your Mattermost server (e.g., https://chat.example.com).",
      "placeholder": "https://chat.example.com"
    },
    "channels.mattermost.chatmode": {
      "label": "Mattermost Chat Mode",
      "help": "Reply to channel messages on mention (\"oncall\"), on trigger chars (\">\" or \"!\") (\"onchar\"), or on every message (\"onmessage\")."
    },
    "channels.mattermost.oncharPrefixes": {
      "label": "Mattermost Onchar Prefixes",
      "help": "Trigger prefixes for onchar mode (default: [\">\", \"!\"])."
    },
    "channels.mattermost.requireMention": {
      "label": "Mattermost Require Mention",
      "help": "Require @mention in channels before responding (default: true)."
    },
    "channels.signal.account": {
      "label": "Signal Account"
    },
    "channels.imessage.cliPath": {
      "label": "iMessage CLI Path"
    },
    "agents.list[].identity.avatar": {
      "label": "Agent Avatar",
      "help": "Avatar image path (relative to the agent workspace only) or a remote URL/data URL.",
      "placeholder": "avatars/clawd.png"
    },
    "plugins.enabled": {
      "label": "Enable Plugins",
      "help": "Enable plugin/extension loading (default: true)."
    },
    "plugins.allow": {
      "label": "Plugin Allowlist",
      "help": "Optional allowlist of plugin ids; when set, only listed plugins load."
    },
    "plugins.deny": {
      "label": "Plugin Denylist",
      "help": "Optional denylist of plugin ids; deny wins over allowlist."
    },
    "plugins.load.paths": {
      "label": "Plugin Load Paths",
      "help": "Additional plugin files or directories to load."
    },
    "plugins.slots": {
      "label": "Plugin Slots",
      "help": "Select which plugins own exclusive slots (memory, etc.)."
    },
    "plugins.slots.memory": {
      "label": "Memory Plugin",
      "help": "Select the active memory plugin by id, or \"none\" to disable memory plugins."
    },
    "plugins.entries": {
      "label": "Plugin Entries",
      "help": "Per-plugin settings keyed by plugin id (enable/disable + config payloads)."
    },
    "plugins.entries.*.enabled": {
      "label": "Plugin Enabled",
      "help": "Overrides plugin enable/disable for this entry (restart required)."
    },
    "plugins.entries.*.config": {
      "label": "Plugin Config",
      "help": "Plugin-defined config payload (schema is provided by the plugin)."
    },
    "plugins.installs": {
      "label": "Plugin Install Records",
      "help": "CLI-managed install metadata (used by `clawdbot plugins update` to locate install sources)."
    },
    "plugins.installs.*.source": {
      "label": "Plugin Install Source",
      "help": "Install source (\"npm\", \"archive\", or \"path\")."
    },
    "plugins.installs.*.spec": {
      "label": "Plugin Install Spec",
      "help": "Original npm spec used for install (if source is npm)."
    },
    "plugins.installs.*.sourcePath": {
      "label": "Plugin Install Source Path",
      "help": "Original archive/path used for install (if any)."
    },
    "plugins.installs.*.installPath": {
      "label": "Plugin Install Path",
      "help": "Resolved install directory (usually ~/.clawdbot/extensions/<id>)."
    },
    "plugins.installs.*.version": {
      "label": "Plugin Install Version",
      "help": "Version recorded at install time (if available)."
    },
    "plugins.installs.*.installedAt": {
      "label": "Plugin Install Time",
      "help": "ISO timestamp of last install/update."
    },
    "tools.web.search.perplexity.apiKey": {
      "help": "Perplexity or OpenRouter API key (fallback: PERPLEXITY_API_KEY or OPENROUTER_API_KEY env var).",
      "sensitive": true
    },
    "tools.web.search.perplexity.baseUrl": {
      "help": "Perplexity base URL override (default: https://openrouter.ai/api/v1 or https://api.perplexity.ai)."
    },
    "tools.web.search.perplexity.model": {
      "help": "Perplexity model override (default: \"perplexity/sonar-pro\")."
    },
    "tools.web.fetch.readability": {
      "help": "Use Readability to extract main content from HTML (fallbacks to basic HTML cleanup)."
    },
    "tools.web.fetch.firecrawl.enabled": {
      "help": "Enable Firecrawl fallback for web_fetch (if configured)."
    },
    "tools.web.fetch.firecrawl.apiKey": {
      "help": "Firecrawl API key (fallback: FIRECRAWL_API_KEY env var).",
      "sensitive": true
    },
    "tools.web.fetch.firecrawl.baseUrl": {
      "help": "Firecrawl base URL (e.g. https://api.firecrawl.dev or custom endpoint)."
    },
    "tools.web.fetch.firecrawl.onlyMainContent": {
      "help": "When true, Firecrawl returns only the main content (default: true)."
    },
    "tools.web.fetch.firecrawl.maxAgeMs": {
      "help": "Firecrawl maxAge (ms) for cached results when supported by the API."
    },
    "tools.web.fetch.firecrawl.timeoutSeconds": {
      "help": "Timeout in seconds for Firecrawl requests."
    },
    "agents.defaults.memorySearch.remote.batch.enabled": {
      "help": "Enable batch API for memory embeddings (OpenAI/Gemini; default: true)."
    },
    "agents.defaults.memorySearch.remote.batch.wait": {
      "help": "Wait for batch completion when indexing (default: true)."
    },
    "agents.defaults.memorySearch.remote.batch.pollIntervalMs": {
      "help": "Polling interval in ms for batch status (default: 2000)."
    },
    "agents.defaults.memorySearch.remote.batch.timeoutMinutes": {
      "help": "Timeout in minutes for batch indexing (default: 60)."
    },
    "session.identityLinks": {
      "help": "Map canonical identities to provider-prefixed peer IDs for DM session linking (example: telegram:123456)."
    },
    "channels.telegram.configWrites": {
      "help": "Allow Telegram to write config in response to channel events/commands (default: true)."
    },
    "channels.slack.configWrites": {
      "help": "Allow Slack to write config in response to channel events/commands (default: true)."
    },
    "channels.mattermost.configWrites": {
      "help": "Allow Mattermost to write config in response to channel events/commands (default: true)."
    },
    "channels.discord.configWrites": {
      "help": "Allow Discord to write config in response to channel events/commands (default: true)."
    },
    "channels.whatsapp.configWrites": {
      "help": "Allow WhatsApp to write config in response to channel events/commands (default: true)."
    },
    "channels.signal.configWrites": {
      "help": "Allow Signal to write config in response to channel events/commands (default: true)."
    },
    "channels.imessage.configWrites": {
      "help": "Allow iMessage to write config in response to channel events/commands (default: true)."
    },
    "channels.msteams.configWrites": {
      "help": "Allow Microsoft Teams to write config in response to channel events/commands (default: true)."
    },
    "channels.discord.commands.native": {
      "help": "Override native commands for Discord (bool or \"auto\")."
    },
    "channels.discord.commands.nativeSkills": {
      "help": "Override native skill commands for Discord (bool or \"auto\")."
    },
    "channels.telegram.commands.native": {
      "help": "Override native commands for Telegram (bool or \"auto\")."
    },
    "channels.telegram.commands.nativeSkills": {
      "help": "Override native skill commands for Telegram (bool or \"auto\")."
    },
    "channels.slack.commands.native": {
      "help": "Override native commands for Slack (bool or \"auto\")."
    },
    "channels.slack.commands.nativeSkills": {
      "help": "Override native skill commands for Slack (bool or \"auto\")."
    }
  },
  "version": "2026.1.24-3",
  "generatedAt": "2026-01-25T15:27:03Z",
  "clawdbotRev": "c8063bdcd83c14177aeff09dec329e3a8534f186"
}
