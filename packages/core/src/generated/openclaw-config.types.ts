/*
  This file is generated by packages/core/scripts/sync-openclaw-schema.ts.
  Do not edit by hand.

  openclawRev: 92112a61db519296a7258d508677aa6c49f9a558
*/

export interface OpenClawConfig {
  agents?: {
    defaults?: {
      blockStreamingBreak?: "text_end" | "message_end";
      blockStreamingChunk?: {
        breakPreference?: "paragraph" | "newline" | "sentence";
        maxChars?: number;
        minChars?: number;
      };
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      blockStreamingDefault?: "off" | "on";
      bootstrapMaxChars?: number;
      cliBackends?: {
        [k: string]: {
          args?: string[];
          clearEnv?: string[];
          command: string;
          env?: {
            [k: string]: string;
          };
          imageArg?: string;
          imageMode?: "repeat" | "list";
          input?: "arg" | "stdin";
          maxPromptArgChars?: number;
          modelAliases?: {
            [k: string]: string;
          };
          modelArg?: string;
          output?: "json" | "text" | "jsonl";
          resumeArgs?: string[];
          resumeOutput?: "json" | "text" | "jsonl";
          serialize?: boolean;
          sessionArg?: string;
          sessionArgs?: string[];
          sessionIdFields?: string[];
          sessionMode?: "always" | "existing" | "none";
          systemPromptArg?: string;
          systemPromptMode?: "append" | "replace";
          systemPromptWhen?: "first" | "always" | "never";
        };
      };
      compaction?: {
        maxHistoryShare?: number;
        memoryFlush?: {
          enabled?: boolean;
          prompt?: string;
          softThresholdTokens?: number;
          systemPrompt?: string;
        };
        mode?: "default" | "safeguard";
        reserveTokensFloor?: number;
      };
      contextPruning?: {
        hardClear?: {
          enabled?: boolean;
          placeholder?: string;
        };
        hardClearRatio?: number;
        keepLastAssistants?: number;
        minPrunableToolChars?: number;
        mode?: "off" | "cache-ttl";
        softTrim?: {
          headChars?: number;
          maxChars?: number;
          tailChars?: number;
        };
        softTrimRatio?: number;
        tools?: {
          allow?: string[];
          deny?: string[];
        };
        ttl?: string;
      };
      contextTokens?: number;
      elevatedDefault?: "off" | "on" | "ask" | "full";
      envelopeElapsed?: "on" | "off";
      envelopeTimestamp?: "on" | "off";
      envelopeTimezone?: string;
      heartbeat?: {
        ackMaxChars?: number;
        activeHours?: {
          end?: string;
          start?: string;
          timezone?: string;
        };
        every?: string;
        includeReasoning?: boolean;
        model?: string;
        prompt?: string;
        session?: string;
        target?: string;
        to?: string;
      };
      humanDelay?: {
        maxMs?: number;
        minMs?: number;
        mode?: "off" | "natural" | "custom";
      };
      imageModel?: {
        fallbacks?: string[];
        primary?: string;
      };
      maxConcurrent?: number;
      mediaMaxMb?: number;
      memorySearch?: {
        cache?: {
          enabled?: boolean;
          maxEntries?: number;
        };
        chunking?: {
          overlap?: number;
          tokens?: number;
        };
        enabled?: boolean;
        experimental?: {
          sessionMemory?: boolean;
        };
        extraPaths?: string[];
        fallback?: "openai" | "gemini" | "local" | "none";
        local?: {
          modelCacheDir?: string;
          modelPath?: string;
        };
        model?: string;
        provider?: "openai" | "local" | "gemini";
        query?: {
          hybrid?: {
            candidateMultiplier?: number;
            enabled?: boolean;
            textWeight?: number;
            vectorWeight?: number;
          };
          maxResults?: number;
          minScore?: number;
        };
        remote?: {
          apiKey?: string;
          baseUrl?: string;
          batch?: {
            concurrency?: number;
            enabled?: boolean;
            pollIntervalMs?: number;
            timeoutMinutes?: number;
            wait?: boolean;
          };
          headers?: {
            [k: string]: string;
          };
        };
        sources?: ("memory" | "sessions")[];
        store?: {
          driver?: "sqlite";
          path?: string;
          vector?: {
            enabled?: boolean;
            extensionPath?: string;
          };
        };
        sync?: {
          intervalMinutes?: number;
          onSearch?: boolean;
          onSessionStart?: boolean;
          sessions?: {
            deltaBytes?: number;
            deltaMessages?: number;
          };
          watch?: boolean;
          watchDebounceMs?: number;
        };
      };
      model?: {
        fallbacks?: string[];
        primary?: string;
      };
      models?: {
        [k: string]: {
          alias?: string;
          params?: {
            [k: string]: unknown;
          };
        };
      };
      repoRoot?: string;
      sandbox?: {
        browser?: {
          allowHostControl?: boolean;
          autoStart?: boolean;
          autoStartTimeoutMs?: number;
          cdpPort?: number;
          containerPrefix?: string;
          enabled?: boolean;
          enableNoVnc?: boolean;
          headless?: boolean;
          image?: string;
          noVncPort?: number;
          vncPort?: number;
        };
        docker?: {
          apparmorProfile?: string;
          binds?: string[];
          capDrop?: string[];
          containerPrefix?: string;
          cpus?: number;
          dns?: string[];
          env?: {
            [k: string]: string;
          };
          extraHosts?: string[];
          image?: string;
          memory?: string | number;
          memorySwap?: string | number;
          network?: string;
          pidsLimit?: number;
          readOnlyRoot?: boolean;
          seccompProfile?: string;
          setupCommand?: string;
          tmpfs?: string[];
          ulimits?: {
            [k: string]:
              | string
              | number
              | {
                  hard?: number;
                  soft?: number;
                };
          };
          user?: string;
          workdir?: string;
        };
        mode?: "off" | "non-main" | "all";
        perSession?: boolean;
        prune?: {
          idleHours?: number;
          maxAgeDays?: number;
        };
        scope?: "session" | "agent" | "shared";
        sessionToolsVisibility?: "spawned" | "all";
        workspaceAccess?: "none" | "ro" | "rw";
        workspaceRoot?: string;
      };
      skipBootstrap?: boolean;
      subagents?: {
        archiveAfterMinutes?: number;
        maxConcurrent?: number;
        model?:
          | string
          | {
              fallbacks?: string[];
              primary?: string;
            };
      };
      thinkingDefault?: "off" | "minimal" | "low" | "medium" | "high" | "xhigh";
      timeFormat?: "auto" | "12" | "24";
      timeoutSeconds?: number;
      typingIntervalSeconds?: number;
      typingMode?: "never" | "instant" | "thinking" | "message";
      userTimezone?: string;
      verboseDefault?: "off" | "on" | "full";
      workspace?: string;
    };
    list?: {
      agentDir?: string;
      default?: boolean;
      groupChat?: {
        historyLimit?: number;
        mentionPatterns?: string[];
      };
      heartbeat?: {
        ackMaxChars?: number;
        activeHours?: {
          end?: string;
          start?: string;
          timezone?: string;
        };
        every?: string;
        includeReasoning?: boolean;
        model?: string;
        prompt?: string;
        session?: string;
        target?: string;
        to?: string;
      };
      humanDelay?: {
        maxMs?: number;
        minMs?: number;
        mode?: "off" | "natural" | "custom";
      };
      id: string;
      identity?: {
        avatar?: string;
        emoji?: string;
        name?: string;
        theme?: string;
      };
      memorySearch?: {
        cache?: {
          enabled?: boolean;
          maxEntries?: number;
        };
        chunking?: {
          overlap?: number;
          tokens?: number;
        };
        enabled?: boolean;
        experimental?: {
          sessionMemory?: boolean;
        };
        extraPaths?: string[];
        fallback?: "openai" | "gemini" | "local" | "none";
        local?: {
          modelCacheDir?: string;
          modelPath?: string;
        };
        model?: string;
        provider?: "openai" | "local" | "gemini";
        query?: {
          hybrid?: {
            candidateMultiplier?: number;
            enabled?: boolean;
            textWeight?: number;
            vectorWeight?: number;
          };
          maxResults?: number;
          minScore?: number;
        };
        remote?: {
          apiKey?: string;
          baseUrl?: string;
          batch?: {
            concurrency?: number;
            enabled?: boolean;
            pollIntervalMs?: number;
            timeoutMinutes?: number;
            wait?: boolean;
          };
          headers?: {
            [k: string]: string;
          };
        };
        sources?: ("memory" | "sessions")[];
        store?: {
          driver?: "sqlite";
          path?: string;
          vector?: {
            enabled?: boolean;
            extensionPath?: string;
          };
        };
        sync?: {
          intervalMinutes?: number;
          onSearch?: boolean;
          onSessionStart?: boolean;
          sessions?: {
            deltaBytes?: number;
            deltaMessages?: number;
          };
          watch?: boolean;
          watchDebounceMs?: number;
        };
      };
      model?:
        | string
        | {
            fallbacks?: string[];
            primary?: string;
          };
      name?: string;
      sandbox?: {
        browser?: {
          allowHostControl?: boolean;
          autoStart?: boolean;
          autoStartTimeoutMs?: number;
          cdpPort?: number;
          containerPrefix?: string;
          enabled?: boolean;
          enableNoVnc?: boolean;
          headless?: boolean;
          image?: string;
          noVncPort?: number;
          vncPort?: number;
        };
        docker?: {
          apparmorProfile?: string;
          binds?: string[];
          capDrop?: string[];
          containerPrefix?: string;
          cpus?: number;
          dns?: string[];
          env?: {
            [k: string]: string;
          };
          extraHosts?: string[];
          image?: string;
          memory?: string | number;
          memorySwap?: string | number;
          network?: string;
          pidsLimit?: number;
          readOnlyRoot?: boolean;
          seccompProfile?: string;
          setupCommand?: string;
          tmpfs?: string[];
          ulimits?: {
            [k: string]:
              | string
              | number
              | {
                  hard?: number;
                  soft?: number;
                };
          };
          user?: string;
          workdir?: string;
        };
        mode?: "off" | "non-main" | "all";
        perSession?: boolean;
        prune?: {
          idleHours?: number;
          maxAgeDays?: number;
        };
        scope?: "session" | "agent" | "shared";
        sessionToolsVisibility?: "spawned" | "all";
        workspaceAccess?: "none" | "ro" | "rw";
        workspaceRoot?: string;
      };
      subagents?: {
        allowAgents?: string[];
        model?:
          | string
          | {
              fallbacks?: string[];
              primary?: string;
            };
      };
      tools?: {
        allow?: string[];
        alsoAllow?: string[];
        byProvider?: {
          [k: string]: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
            profile?: "minimal" | "coding" | "messaging" | "full";
          };
        };
        deny?: string[];
        elevated?: {
          allowFrom?: {
            [k: string]: (string | number)[];
          };
          enabled?: boolean;
        };
        exec?: {
          applyPatch?: {
            allowModels?: string[];
            enabled?: boolean;
          };
          approvalRunningNoticeMs?: number;
          ask?: "off" | "on-miss" | "always";
          backgroundMs?: number;
          cleanupMs?: number;
          host?: "sandbox" | "gateway" | "node";
          node?: string;
          notifyOnExit?: boolean;
          pathPrepend?: string[];
          safeBins?: string[];
          security?: "deny" | "allowlist" | "full";
          timeoutSec?: number;
        };
        profile?: "minimal" | "coding" | "messaging" | "full";
        sandbox?: {
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
        };
      };
      workspace?: string;
    }[];
  };
  approvals?: {
    exec?: {
      agentFilter?: string[];
      enabled?: boolean;
      mode?: "session" | "targets" | "both";
      sessionFilter?: string[];
      targets?: {
        accountId?: string;
        channel: string;
        threadId?: string | number;
        to: string;
      }[];
    };
  };
  audio?: {
    transcription?: {
      command: string[];
      timeoutSeconds?: number;
    };
  };
  auth?: {
    cooldowns?: {
      billingBackoffHours?: number;
      billingBackoffHoursByProvider?: {
        [k: string]: number;
      };
      billingMaxHours?: number;
      failureWindowHours?: number;
    };
    order?: {
      [k: string]: string[];
    };
    profiles?: {
      [k: string]: {
        email?: string;
        mode: "api_key" | "oauth" | "token";
        provider: string;
      };
    };
  };
  bindings?: {
    agentId: string;
    match: {
      accountId?: string;
      channel: string;
      guildId?: string;
      peer?: {
        id: string;
        kind: "dm" | "group" | "channel";
      };
      teamId?: string;
    };
  }[];
  broadcast?: {
    strategy?: "parallel" | "sequential";
    [k: string]: string[];
  };
  browser?: {
    attachOnly?: boolean;
    cdpUrl?: string;
    color?: string;
    defaultProfile?: string;
    enabled?: boolean;
    evaluateEnabled?: boolean;
    executablePath?: string;
    headless?: boolean;
    noSandbox?: boolean;
    profiles?: {
      [k: string]: {
        cdpPort?: number;
        cdpUrl?: string;
        color: string;
        driver?: "openclaw" | "extension";
      };
    };
    remoteCdpHandshakeTimeoutMs?: number;
    remoteCdpTimeoutMs?: number;
    snapshotDefaults?: {
      mode?: "efficient";
    };
  };
  canvasHost?: {
    enabled?: boolean;
    liveReload?: boolean;
    port?: number;
    root?: string;
  };
  channels?: {
    bluebubbles?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          blockStreaming?: boolean;
          chunkMode?: "length" | "newline";
          dmHistoryLimit?: number;
          dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy?: "open" | "disabled" | "allowlist";
          groups?: {
            [k: string]: {
              requireMention?: boolean;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
            };
          };
          historyLimit?: number;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          password?: string;
          sendReadReceipts?: boolean;
          serverUrl?: string;
          textChunkLimit?: number;
          webhookPath?: string;
        };
      };
      actions?: {
        addParticipant: boolean;
        edit: boolean;
        leaveGroup: boolean;
        reactions: boolean;
        removeParticipant: boolean;
        renameGroup: boolean;
        reply: boolean;
        sendAttachment: boolean;
        sendWithEffect: boolean;
        setGroupIcon: boolean;
        unsend: boolean;
      };
      allowFrom?: (string | number)[];
      blockStreaming?: boolean;
      chunkMode?: "length" | "newline";
      dmHistoryLimit?: number;
      dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy?: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          requireMention?: boolean;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
        };
      };
      historyLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      password?: string;
      sendReadReceipts?: boolean;
      serverUrl?: string;
      textChunkLimit?: number;
      webhookPath?: string;
    };
    discord?: {
      accounts?: {
        [k: string]: {
          actions?: {
            channelInfo?: boolean;
            channels?: boolean;
            emojiUploads?: boolean;
            events?: boolean;
            memberInfo?: boolean;
            messages?: boolean;
            moderation?: boolean;
            permissions?: boolean;
            pins?: boolean;
            polls?: boolean;
            reactions?: boolean;
            roleInfo?: boolean;
            roles?: boolean;
            search?: boolean;
            stickers?: boolean;
            stickerUploads?: boolean;
            threads?: boolean;
            voiceStatus?: boolean;
          };
          allowBots?: boolean;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          capabilities?: string[];
          chunkMode?: "length" | "newline";
          commands?: {
            native?: boolean | "auto";
            nativeSkills?: boolean | "auto";
          };
          configWrites?: boolean;
          dm?: {
            allowFrom?: (string | number)[];
            enabled?: boolean;
            groupChannels?: (string | number)[];
            groupEnabled?: boolean;
            policy: "pairing" | "allowlist" | "open" | "disabled";
          };
          dmHistoryLimit?: number;
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          execApprovals?: {
            agentFilter?: string[];
            approvers?: (string | number)[];
            enabled?: boolean;
            sessionFilter?: string[];
          };
          groupPolicy: "open" | "disabled" | "allowlist";
          guilds?: {
            [k: string]: {
              channels?: {
                [k: string]: {
                  allow?: boolean;
                  autoThread?: boolean;
                  enabled?: boolean;
                  requireMention?: boolean;
                  skills?: string[];
                  systemPrompt?: string;
                  tools?: {
                    allow?: string[];
                    alsoAllow?: string[];
                    deny?: string[];
                  };
                  toolsBySender?: {
                    [k: string]: {
                      allow?: string[];
                      alsoAllow?: string[];
                      deny?: string[];
                    };
                  };
                  users?: (string | number)[];
                };
              };
              reactionNotifications?: "off" | "own" | "all" | "allowlist";
              requireMention?: boolean;
              slug?: string;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
              users?: (string | number)[];
            };
          };
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          intents?: {
            guildMembers?: boolean;
            presence?: boolean;
          };
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          maxLinesPerMessage?: number;
          mediaMaxMb?: number;
          name?: string;
          pluralkit?: {
            enabled?: boolean;
            token?: string;
          };
          replyToMode?: "off" | "first" | "all";
          retry?: {
            attempts?: number;
            jitter?: number;
            maxDelayMs?: number;
            minDelayMs?: number;
          };
          textChunkLimit?: number;
          token?: string;
        };
      };
      actions?: {
        channelInfo?: boolean;
        channels?: boolean;
        emojiUploads?: boolean;
        events?: boolean;
        memberInfo?: boolean;
        messages?: boolean;
        moderation?: boolean;
        permissions?: boolean;
        pins?: boolean;
        polls?: boolean;
        reactions?: boolean;
        roleInfo?: boolean;
        roles?: boolean;
        search?: boolean;
        stickers?: boolean;
        stickerUploads?: boolean;
        threads?: boolean;
        voiceStatus?: boolean;
      };
      allowBots?: boolean;
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      commands?: {
        native?: boolean | "auto";
        nativeSkills?: boolean | "auto";
      };
      configWrites?: boolean;
      dm?: {
        allowFrom?: (string | number)[];
        enabled?: boolean;
        groupChannels?: (string | number)[];
        groupEnabled?: boolean;
        policy: "pairing" | "allowlist" | "open" | "disabled";
      };
      dmHistoryLimit?: number;
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      execApprovals?: {
        agentFilter?: string[];
        approvers?: (string | number)[];
        enabled?: boolean;
        sessionFilter?: string[];
      };
      groupPolicy: "open" | "disabled" | "allowlist";
      guilds?: {
        [k: string]: {
          channels?: {
            [k: string]: {
              allow?: boolean;
              autoThread?: boolean;
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
              users?: (string | number)[];
            };
          };
          reactionNotifications?: "off" | "own" | "all" | "allowlist";
          requireMention?: boolean;
          slug?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
          users?: (string | number)[];
        };
      };
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      intents?: {
        guildMembers?: boolean;
        presence?: boolean;
      };
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      maxLinesPerMessage?: number;
      mediaMaxMb?: number;
      name?: string;
      pluralkit?: {
        enabled?: boolean;
        token?: string;
      };
      replyToMode?: "off" | "first" | "all";
      retry?: {
        attempts?: number;
        jitter?: number;
        maxDelayMs?: number;
        minDelayMs?: number;
      };
      textChunkLimit?: number;
      token?: string;
    };
    googlechat?: {
      accounts?: {
        [k: string]: {
          actions?: {
            reactions?: boolean;
          };
          allowBots?: boolean;
          audience?: string;
          audienceType?: "app-url" | "project-number";
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          botUser?: string;
          capabilities?: string[];
          chunkMode?: "length" | "newline";
          configWrites?: boolean;
          dm?: {
            allowFrom?: (string | number)[];
            enabled?: boolean;
            policy: "pairing" | "allowlist" | "open" | "disabled";
          };
          dmHistoryLimit?: number;
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "disabled" | "allowlist";
          groups?: {
            [k: string]: {
              allow?: boolean;
              enabled?: boolean;
              requireMention?: boolean;
              systemPrompt?: string;
              users?: (string | number)[];
            };
          };
          historyLimit?: number;
          mediaMaxMb?: number;
          name?: string;
          replyToMode?: "off" | "first" | "all";
          requireMention?: boolean;
          serviceAccount?:
            | string
            | {
                [k: string]: unknown;
              };
          serviceAccountFile?: string;
          textChunkLimit?: number;
          typingIndicator?: "none" | "message" | "reaction";
          webhookPath?: string;
          webhookUrl?: string;
        };
      };
      actions?: {
        reactions?: boolean;
      };
      allowBots?: boolean;
      audience?: string;
      audienceType?: "app-url" | "project-number";
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      botUser?: string;
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      configWrites?: boolean;
      defaultAccount?: string;
      dm?: {
        allowFrom?: (string | number)[];
        enabled?: boolean;
        policy: "pairing" | "allowlist" | "open" | "disabled";
      };
      dmHistoryLimit?: number;
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          allow?: boolean;
          enabled?: boolean;
          requireMention?: boolean;
          systemPrompt?: string;
          users?: (string | number)[];
        };
      };
      historyLimit?: number;
      mediaMaxMb?: number;
      name?: string;
      replyToMode?: "off" | "first" | "all";
      requireMention?: boolean;
      serviceAccount?:
        | string
        | {
            [k: string]: unknown;
          };
      serviceAccountFile?: string;
      textChunkLimit?: number;
      typingIndicator?: "none" | "message" | "reaction";
      webhookPath?: string;
      webhookUrl?: string;
    };
    imessage?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          capabilities?: string[];
          chunkMode?: "length" | "newline";
          cliPath?: string;
          configWrites?: boolean;
          dbPath?: string;
          dmHistoryLimit?: number;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "disabled" | "allowlist";
          groups?: {
            [k: string]: {
              requireMention?: boolean;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
            };
          };
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          includeAttachments?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          region?: string;
          remoteHost?: string;
          service?: "imessage" | "sms" | "auto";
          textChunkLimit?: number;
        };
      };
      allowFrom?: (string | number)[];
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      cliPath?: string;
      configWrites?: boolean;
      dbPath?: string;
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          requireMention?: boolean;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
        };
      };
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      includeAttachments?: boolean;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      region?: string;
      remoteHost?: string;
      service?: "imessage" | "sms" | "auto";
      textChunkLimit?: number;
    };
    line?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          channelAccessToken?: string;
          channelSecret?: string;
          dmPolicy: "open" | "allowlist" | "pairing" | "disabled";
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "allowlist" | "disabled";
          groups?: {
            [k: string]: {
              allowFrom?: (string | number)[];
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
            };
          };
          mediaMaxMb?: number;
          name?: string;
          secretFile?: string;
          tokenFile?: string;
          webhookPath?: string;
        };
      };
      allowFrom?: (string | number)[];
      channelAccessToken?: string;
      channelSecret?: string;
      dmPolicy: "open" | "allowlist" | "pairing" | "disabled";
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "allowlist" | "disabled";
      groups?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
        };
      };
      mediaMaxMb?: number;
      name?: string;
      secretFile?: string;
      tokenFile?: string;
      webhookPath?: string;
    };
    matrix?: {
      accessToken?: string;
      actions?: {
        channelInfo?: boolean;
        memberInfo?: boolean;
        messages?: boolean;
        pins?: boolean;
        reactions?: boolean;
      };
      allowlistOnly?: boolean;
      autoJoin?: "always" | "allowlist" | "off";
      autoJoinAllowlist?: (string | number)[];
      chunkMode?: "length" | "newline";
      deviceName?: string;
      dm?: {
        allowFrom?: (string | number)[];
        enabled?: boolean;
        policy?: "pairing" | "allowlist" | "open" | "disabled";
      };
      enabled?: boolean;
      encryption?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy?: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          allow?: boolean;
          autoReply?: boolean;
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          users?: (string | number)[];
        };
      };
      homeserver?: string;
      initialSyncLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      password?: string;
      replyToMode?: "off" | "first" | "all";
      rooms?: {
        [k: string]: {
          allow?: boolean;
          autoReply?: boolean;
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          users?: (string | number)[];
        };
      };
      textChunkLimit?: number;
      threadReplies?: "off" | "inbound" | "always";
      userId?: string;
    };
    mattermost?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          baseUrl?: string;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          botToken?: string;
          capabilities?: string[];
          chatmode?: "oncall" | "onmessage" | "onchar";
          chunkMode?: "length" | "newline";
          configWrites?: boolean;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "disabled" | "allowlist";
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          name?: string;
          oncharPrefixes?: string[];
          requireMention?: boolean;
          textChunkLimit?: number;
        };
      };
      allowFrom?: (string | number)[];
      baseUrl?: string;
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      botToken?: string;
      capabilities?: string[];
      chatmode?: "oncall" | "onmessage" | "onchar";
      chunkMode?: "length" | "newline";
      configWrites?: boolean;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "disabled" | "allowlist";
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      name?: string;
      oncharPrefixes?: string[];
      requireMention?: boolean;
      textChunkLimit?: number;
    };
    msteams?: {
      allowFrom?: string[];
      appId?: string;
      appPassword?: string;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      configWrites?: boolean;
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupAllowFrom?: string[];
      groupPolicy: "open" | "disabled" | "allowlist";
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaAllowHosts?: string[];
      mediaMaxMb?: number;
      replyStyle?: "thread" | "top-level";
      requireMention?: boolean;
      sharePointSiteId?: string;
      teams?: {
        [k: string]: {
          channels?: {
            [k: string]: {
              replyStyle?: "thread" | "top-level";
              requireMention?: boolean;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
            };
          };
          replyStyle?: "thread" | "top-level";
          requireMention?: boolean;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
        };
      };
      tenantId?: string;
      textChunkLimit?: number;
      webhook?: {
        path?: string;
        port?: number;
      };
    };
    "nextcloud-talk"?: {
      accounts?: {
        [k: string]: {
          allowFrom?: string[];
          apiPassword?: string;
          apiPasswordFile?: string;
          apiUser?: string;
          baseUrl?: string;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          botSecret?: string;
          botSecretFile?: string;
          chunkMode?: "length" | "newline";
          dmHistoryLimit?: number;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupAllowFrom?: string[];
          groupPolicy: "open" | "disabled" | "allowlist";
          historyLimit?: number;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          rooms?: {
            [k: string]: {
              allowFrom?: string[];
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
            };
          };
          textChunkLimit?: number;
          webhookHost?: string;
          webhookPath?: string;
          webhookPort?: number;
          webhookPublicUrl?: string;
        };
      };
      allowFrom?: string[];
      apiPassword?: string;
      apiPasswordFile?: string;
      apiUser?: string;
      baseUrl?: string;
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      botSecret?: string;
      botSecretFile?: string;
      chunkMode?: "length" | "newline";
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupAllowFrom?: string[];
      groupPolicy: "open" | "disabled" | "allowlist";
      historyLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      rooms?: {
        [k: string]: {
          allowFrom?: string[];
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
        };
      };
      textChunkLimit?: number;
      webhookHost?: string;
      webhookPath?: string;
      webhookPort?: number;
      webhookPublicUrl?: string;
    };
    nostr?: {
      allowFrom?: (string | number)[];
      dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
      enabled?: boolean;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      name?: string;
      privateKey?: string;
      profile?: {
        about?: string;
        banner?: string;
        displayName?: string;
        lud16?: string;
        name?: string;
        nip05?: string;
        picture?: string;
        website?: string;
      };
      relays?: string[];
    };
    signal?: {
      account?: string;
      accounts?: {
        [k: string]: {
          account?: string;
          actions?: {
            reactions?: boolean;
          };
          allowFrom?: (string | number)[];
          autoStart?: boolean;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          capabilities?: string[];
          chunkMode?: "length" | "newline";
          cliPath?: string;
          configWrites?: boolean;
          dmHistoryLimit?: number;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "disabled" | "allowlist";
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          httpHost?: string;
          httpPort?: number;
          httpUrl?: string;
          ignoreAttachments?: boolean;
          ignoreStories?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          reactionAllowlist?: (string | number)[];
          reactionLevel?: "off" | "ack" | "minimal" | "extensive";
          reactionNotifications?: "off" | "own" | "all" | "allowlist";
          receiveMode?: "on-start" | "manual";
          sendReadReceipts?: boolean;
          startupTimeoutMs?: number;
          textChunkLimit?: number;
        };
      };
      actions?: {
        reactions?: boolean;
      };
      allowFrom?: (string | number)[];
      autoStart?: boolean;
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      cliPath?: string;
      configWrites?: boolean;
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "disabled" | "allowlist";
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      httpHost?: string;
      httpPort?: number;
      httpUrl?: string;
      ignoreAttachments?: boolean;
      ignoreStories?: boolean;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      reactionAllowlist?: (string | number)[];
      reactionLevel?: "off" | "ack" | "minimal" | "extensive";
      reactionNotifications?: "off" | "own" | "all" | "allowlist";
      receiveMode?: "on-start" | "manual";
      sendReadReceipts?: boolean;
      startupTimeoutMs?: number;
      textChunkLimit?: number;
    };
    slack?: {
      accounts?: {
        [k: string]: {
          actions?: {
            channelInfo?: boolean;
            emojiList?: boolean;
            memberInfo?: boolean;
            messages?: boolean;
            permissions?: boolean;
            pins?: boolean;
            reactions?: boolean;
            search?: boolean;
          };
          allowBots?: boolean;
          appToken?: string;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          botToken?: string;
          capabilities?: string[];
          channels?: {
            [k: string]: {
              allow?: boolean;
              allowBots?: boolean;
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
              users?: (string | number)[];
            };
          };
          chunkMode?: "length" | "newline";
          commands?: {
            native?: boolean | "auto";
            nativeSkills?: boolean | "auto";
          };
          configWrites?: boolean;
          dm?: {
            allowFrom?: (string | number)[];
            enabled?: boolean;
            groupChannels?: (string | number)[];
            groupEnabled?: boolean;
            policy: "pairing" | "allowlist" | "open" | "disabled";
            replyToMode?: "off" | "first" | "all";
          };
          dmHistoryLimit?: number;
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupPolicy: "open" | "disabled" | "allowlist";
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          mode?: "socket" | "http";
          name?: string;
          reactionAllowlist?: (string | number)[];
          reactionNotifications?: "off" | "own" | "all" | "allowlist";
          replyToMode?: "off" | "first" | "all";
          replyToModeByChatType?: {
            channel?: "off" | "first" | "all";
            direct?: "off" | "first" | "all";
            group?: "off" | "first" | "all";
          };
          requireMention?: boolean;
          signingSecret?: string;
          slashCommand?: {
            enabled?: boolean;
            ephemeral?: boolean;
            name?: string;
            sessionPrefix?: string;
          };
          textChunkLimit?: number;
          thread?: {
            historyScope?: "thread" | "channel";
            inheritParent?: boolean;
          };
          userToken?: string;
          userTokenReadOnly: boolean;
          webhookPath?: string;
        };
      };
      actions?: {
        channelInfo?: boolean;
        emojiList?: boolean;
        memberInfo?: boolean;
        messages?: boolean;
        permissions?: boolean;
        pins?: boolean;
        reactions?: boolean;
        search?: boolean;
      };
      allowBots?: boolean;
      appToken?: string;
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      botToken?: string;
      capabilities?: string[];
      channels?: {
        [k: string]: {
          allow?: boolean;
          allowBots?: boolean;
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
          users?: (string | number)[];
        };
      };
      chunkMode?: "length" | "newline";
      commands?: {
        native?: boolean | "auto";
        nativeSkills?: boolean | "auto";
      };
      configWrites?: boolean;
      dm?: {
        allowFrom?: (string | number)[];
        enabled?: boolean;
        groupChannels?: (string | number)[];
        groupEnabled?: boolean;
        policy: "pairing" | "allowlist" | "open" | "disabled";
        replyToMode?: "off" | "first" | "all";
      };
      dmHistoryLimit?: number;
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      enabled?: boolean;
      groupPolicy: "open" | "disabled" | "allowlist";
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      mode: "socket" | "http";
      name?: string;
      reactionAllowlist?: (string | number)[];
      reactionNotifications?: "off" | "own" | "all" | "allowlist";
      replyToMode?: "off" | "first" | "all";
      replyToModeByChatType?: {
        channel?: "off" | "first" | "all";
        direct?: "off" | "first" | "all";
        group?: "off" | "first" | "all";
      };
      requireMention?: boolean;
      signingSecret?: string;
      slashCommand?: {
        enabled?: boolean;
        ephemeral?: boolean;
        name?: string;
        sessionPrefix?: string;
      };
      textChunkLimit?: number;
      thread?: {
        historyScope?: "thread" | "channel";
        inheritParent?: boolean;
      };
      userToken?: string;
      userTokenReadOnly: boolean;
      webhookPath: string;
    };
    telegram?: {
      accounts?: {
        [k: string]: {
          actions?: {
            deleteMessage?: boolean;
            reactions?: boolean;
            sendMessage?: boolean;
            sticker?: boolean;
          };
          allowFrom?: (string | number)[];
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          botToken?: string;
          capabilities?:
            | string[]
            | {
                inlineButtons?: "off" | "dm" | "group" | "all" | "allowlist";
              };
          chunkMode?: "length" | "newline";
          commands?: {
            native?: boolean | "auto";
            nativeSkills?: boolean | "auto";
          };
          configWrites?: boolean;
          customCommands?: {
            command: unknown;
            description: unknown;
          }[];
          dmHistoryLimit?: number;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          draftChunk?: {
            breakPreference?: "paragraph" | "newline" | "sentence";
            maxChars?: number;
            minChars?: number;
          };
          enabled?: boolean;
          groupAllowFrom?: (string | number)[];
          groupPolicy: "open" | "disabled" | "allowlist";
          groups?: {
            [k: string]: {
              allowFrom?: (string | number)[];
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
              topics?: {
                [k: string]: {
                  allowFrom?: (string | number)[];
                  enabled?: boolean;
                  requireMention?: boolean;
                  skills?: string[];
                  systemPrompt?: string;
                };
              };
            };
          };
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          linkPreview?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          network?: {
            autoSelectFamily?: boolean;
          };
          proxy?: string;
          reactionLevel?: "off" | "ack" | "minimal" | "extensive";
          reactionNotifications?: "off" | "own" | "all";
          replyToMode?: "off" | "first" | "all";
          retry?: {
            attempts?: number;
            jitter?: number;
            maxDelayMs?: number;
            minDelayMs?: number;
          };
          streamMode: "off" | "partial" | "block";
          textChunkLimit?: number;
          timeoutSeconds?: number;
          tokenFile?: string;
          webhookPath?: string;
          webhookSecret?: string;
          webhookUrl?: string;
        };
      };
      actions?: {
        deleteMessage?: boolean;
        reactions?: boolean;
        sendMessage?: boolean;
        sticker?: boolean;
      };
      allowFrom?: (string | number)[];
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      botToken?: string;
      capabilities?:
        | string[]
        | {
            inlineButtons?: "off" | "dm" | "group" | "all" | "allowlist";
          };
      chunkMode?: "length" | "newline";
      commands?: {
        native?: boolean | "auto";
        nativeSkills?: boolean | "auto";
      };
      configWrites?: boolean;
      customCommands?: {
        command: unknown;
        description: unknown;
      }[];
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      draftChunk?: {
        breakPreference?: "paragraph" | "newline" | "sentence";
        maxChars?: number;
        minChars?: number;
      };
      enabled?: boolean;
      groupAllowFrom?: (string | number)[];
      groupPolicy: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          enabled?: boolean;
          requireMention?: boolean;
          skills?: string[];
          systemPrompt?: string;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
          topics?: {
            [k: string]: {
              allowFrom?: (string | number)[];
              enabled?: boolean;
              requireMention?: boolean;
              skills?: string[];
              systemPrompt?: string;
            };
          };
        };
      };
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      linkPreview?: boolean;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      network?: {
        autoSelectFamily?: boolean;
      };
      proxy?: string;
      reactionLevel?: "off" | "ack" | "minimal" | "extensive";
      reactionNotifications?: "off" | "own" | "all";
      replyToMode?: "off" | "first" | "all";
      retry?: {
        attempts?: number;
        jitter?: number;
        maxDelayMs?: number;
        minDelayMs?: number;
      };
      streamMode: "off" | "partial" | "block";
      textChunkLimit?: number;
      timeoutSeconds?: number;
      tokenFile?: string;
      webhookPath?: string;
      webhookSecret?: string;
      webhookUrl?: string;
    };
    tlon?: {
      accounts?: {
        [k: string]: {
          autoDiscoverChannels?: boolean;
          code?: string;
          dmAllowlist?: string[];
          enabled?: boolean;
          groupChannels?: string[];
          name?: string;
          ship?: string;
          showModelSignature?: boolean;
          url?: string;
        };
      };
      authorization?: {
        channelRules?: {
          [k: string]: {
            allowedShips?: string[];
            mode?: "restricted" | "open";
          };
        };
      };
      autoDiscoverChannels?: boolean;
      code?: string;
      defaultAuthorizedShips?: string[];
      dmAllowlist?: string[];
      enabled?: boolean;
      groupChannels?: string[];
      name?: string;
      ship?: string;
      showModelSignature?: boolean;
      url?: string;
    };
    twitch?:
      | ({
          enabled?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          name?: string;
        } & {
          accessToken: string;
          allowedRoles?: ("moderator" | "owner" | "vip" | "subscriber" | "all")[];
          allowFrom?: string[];
          channel: string;
          clientId?: string;
          clientSecret?: string;
          enabled?: boolean;
          expiresIn?: number | null;
          obtainmentTimestamp?: number;
          refreshToken?: string;
          requireMention?: boolean;
          username: string;
        })
      | ({
          enabled?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          name?: string;
        } & {
          accounts: {
            [k: string]: {
              accessToken: string;
              allowedRoles?: ("moderator" | "owner" | "vip" | "subscriber" | "all")[];
              allowFrom?: string[];
              channel: string;
              clientId?: string;
              clientSecret?: string;
              enabled?: boolean;
              expiresIn?: number | null;
              obtainmentTimestamp?: number;
              refreshToken?: string;
              requireMention?: boolean;
              username: string;
            };
          };
        });
    whatsapp?: {
      accounts?: {
        [k: string]: {
          ackReaction?: {
            direct: boolean;
            emoji?: string;
            group: "always" | "mentions" | "never";
          };
          allowFrom?: string[];
          authDir?: string;
          blockStreaming?: boolean;
          blockStreamingCoalesce?: {
            idleMs?: number;
            maxChars?: number;
            minChars?: number;
          };
          capabilities?: string[];
          chunkMode?: "length" | "newline";
          configWrites?: boolean;
          debounceMs: number;
          dmHistoryLimit?: number;
          dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
          dms?: {
            [k: string]: {
              historyLimit?: number;
            };
          };
          enabled?: boolean;
          groupAllowFrom?: string[];
          groupPolicy: "open" | "disabled" | "allowlist";
          groups?: {
            [k: string]: {
              requireMention?: boolean;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
              toolsBySender?: {
                [k: string]: {
                  allow?: string[];
                  alsoAllow?: string[];
                  deny?: string[];
                };
              };
            };
          };
          heartbeat?: {
            showAlerts?: boolean;
            showOk?: boolean;
            useIndicator?: boolean;
          };
          historyLimit?: number;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          messagePrefix?: string;
          name?: string;
          selfChatMode?: boolean;
          sendReadReceipts?: boolean;
          textChunkLimit?: number;
        };
      };
      ackReaction?: {
        direct: boolean;
        emoji?: string;
        group: "always" | "mentions" | "never";
      };
      actions?: {
        polls?: boolean;
        reactions?: boolean;
        sendMessage?: boolean;
      };
      allowFrom?: string[];
      blockStreaming?: boolean;
      blockStreamingCoalesce?: {
        idleMs?: number;
        maxChars?: number;
        minChars?: number;
      };
      capabilities?: string[];
      chunkMode?: "length" | "newline";
      configWrites?: boolean;
      debounceMs: number;
      dmHistoryLimit?: number;
      dmPolicy: "pairing" | "allowlist" | "open" | "disabled";
      dms?: {
        [k: string]: {
          historyLimit?: number;
        };
      };
      groupAllowFrom?: string[];
      groupPolicy: "open" | "disabled" | "allowlist";
      groups?: {
        [k: string]: {
          requireMention?: boolean;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
          toolsBySender?: {
            [k: string]: {
              allow?: string[];
              alsoAllow?: string[];
              deny?: string[];
            };
          };
        };
      };
      heartbeat?: {
        showAlerts?: boolean;
        showOk?: boolean;
        useIndicator?: boolean;
      };
      historyLimit?: number;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb: number;
      messagePrefix?: string;
      selfChatMode?: boolean;
      sendReadReceipts?: boolean;
      textChunkLimit?: number;
    };
    zalo?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          botToken?: string;
          dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
          enabled?: boolean;
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          mediaMaxMb?: number;
          name?: string;
          proxy?: string;
          tokenFile?: string;
          webhookPath?: string;
          webhookSecret?: string;
          webhookUrl?: string;
        };
      };
      allowFrom?: (string | number)[];
      botToken?: string;
      defaultAccount?: string;
      dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
      enabled?: boolean;
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      mediaMaxMb?: number;
      name?: string;
      proxy?: string;
      tokenFile?: string;
      webhookPath?: string;
      webhookSecret?: string;
      webhookUrl?: string;
    };
    zalouser?: {
      accounts?: {
        [k: string]: {
          allowFrom?: (string | number)[];
          dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
          enabled?: boolean;
          groupPolicy?: "disabled" | "allowlist" | "open";
          groups?: {
            [k: string]: {
              allow?: boolean;
              enabled?: boolean;
              tools?: {
                allow?: string[];
                alsoAllow?: string[];
                deny?: string[];
              };
            };
          };
          markdown?: {
            tables?: "off" | "bullets" | "code";
          };
          messagePrefix?: string;
          name?: string;
          profile?: string;
        };
      };
      allowFrom?: (string | number)[];
      defaultAccount?: string;
      dmPolicy?: "pairing" | "allowlist" | "open" | "disabled";
      enabled?: boolean;
      groupPolicy?: "disabled" | "allowlist" | "open";
      groups?: {
        [k: string]: {
          allow?: boolean;
          enabled?: boolean;
          tools?: {
            allow?: string[];
            alsoAllow?: string[];
            deny?: string[];
          };
        };
      };
      markdown?: {
        tables?: "off" | "bullets" | "code";
      };
      messagePrefix?: string;
      name?: string;
      profile?: string;
    };
    [k: string]: unknown;
  };
  commands: {
    bash?: boolean;
    bashForegroundMs?: number;
    config?: boolean;
    debug?: boolean;
    native: boolean | "auto";
    nativeSkills: boolean | "auto";
    restart?: boolean;
    text?: boolean;
    useAccessGroups?: boolean;
  };
  cron?: {
    enabled?: boolean;
    maxConcurrentRuns?: number;
    store?: string;
  };
  diagnostics?: {
    cacheTrace?: {
      enabled?: boolean;
      filePath?: string;
      includeMessages?: boolean;
      includePrompt?: boolean;
      includeSystem?: boolean;
    };
    enabled?: boolean;
    flags?: string[];
    otel?: {
      enabled?: boolean;
      endpoint?: string;
      flushIntervalMs?: number;
      headers?: {
        [k: string]: string;
      };
      logs?: boolean;
      metrics?: boolean;
      protocol?: "http/protobuf" | "grpc";
      sampleRate?: number;
      serviceName?: string;
      traces?: boolean;
    };
  };
  discovery?: {
    mdns?: {
      mode?: "off" | "minimal" | "full";
    };
    wideArea?: {
      domain?: string;
      enabled?: boolean;
    };
  };
  env?: {
    shellEnv?: {
      enabled?: boolean;
      timeoutMs?: number;
    };
    vars?: {
      [k: string]: string;
    };
    [k: string]: string;
  };
  gateway?: {
    auth?: {
      allowTailscale?: boolean;
      mode?: "token" | "password";
      password?: string;
      token?: string;
    };
    bind?: "auto" | "lan" | "loopback" | "custom" | "tailnet";
    controlUi?: {
      allowInsecureAuth?: boolean;
      basePath?: string;
      dangerouslyDisableDeviceAuth?: boolean;
      enabled?: boolean;
    };
    http?: {
      endpoints?: {
        chatCompletions?: {
          enabled?: boolean;
        };
        responses?: {
          enabled?: boolean;
          files?: {
            allowedMimes?: string[];
            allowUrl?: boolean;
            maxBytes?: number;
            maxChars?: number;
            maxRedirects?: number;
            pdf?: {
              maxPages?: number;
              maxPixels?: number;
              minTextChars?: number;
            };
            timeoutMs?: number;
          };
          images?: {
            allowedMimes?: string[];
            allowUrl?: boolean;
            maxBytes?: number;
            maxRedirects?: number;
            timeoutMs?: number;
          };
          maxBodyBytes?: number;
        };
      };
    };
    mode?: "local" | "remote";
    nodes?: {
      allowCommands?: string[];
      browser?: {
        mode?: "auto" | "manual" | "off";
        node?: string;
      };
      denyCommands?: string[];
    };
    port?: number;
    reload?: {
      debounceMs?: number;
      mode?: "off" | "restart" | "hot" | "hybrid";
    };
    remote?: {
      password?: string;
      sshIdentity?: string;
      sshTarget?: string;
      tlsFingerprint?: string;
      token?: string;
      transport?: "ssh" | "direct";
      url?: string;
    };
    tailscale?: {
      mode?: "off" | "serve" | "funnel";
      resetOnExit?: boolean;
    };
    tls?: {
      autoGenerate?: boolean;
      caPath?: string;
      certPath?: string;
      enabled?: boolean;
      keyPath?: string;
    };
    trustedProxies?: string[];
  };
  hooks?: {
    enabled?: boolean;
    gmail?: {
      account?: string;
      allowUnsafeExternalContent?: boolean;
      hookUrl?: string;
      includeBody?: boolean;
      label?: string;
      maxBytes?: number;
      model?: string;
      pushToken?: string;
      renewEveryMinutes?: number;
      serve?: {
        bind?: string;
        path?: string;
        port?: number;
      };
      subscription?: string;
      tailscale?: {
        mode?: "off" | "serve" | "funnel";
        path?: string;
        target?: string;
      };
      thinking?: "off" | "minimal" | "low" | "medium" | "high";
      topic?: string;
    };
    internal?: {
      enabled?: boolean;
      entries?: {
        [k: string]: {
          enabled?: boolean;
          env?: {
            [k: string]: string;
          };
        };
      };
      handlers?: {
        event: string;
        export?: string;
        module: string;
      }[];
      installs?: {
        [k: string]: {
          hooks?: string[];
          installedAt?: string;
          installPath?: string;
          source: "npm" | "archive" | "path";
          sourcePath?: string;
          spec?: string;
          version?: string;
        };
      };
      load?: {
        extraDirs?: string[];
      };
    };
    mappings?: {
      action?: "wake" | "agent";
      allowUnsafeExternalContent?: boolean;
      channel?: "last" | "whatsapp" | "telegram" | "discord" | "slack" | "signal" | "imessage" | "msteams";
      deliver?: boolean;
      id?: string;
      match?: {
        path?: string;
        source?: string;
      };
      messageTemplate?: string;
      model?: string;
      name?: string;
      sessionKey?: string;
      textTemplate?: string;
      thinking?: string;
      timeoutSeconds?: number;
      to?: string;
      transform?: {
        export?: string;
        module: string;
      };
      wakeMode?: "now" | "next-heartbeat";
    }[];
    maxBodyBytes?: number;
    path?: string;
    presets?: string[];
    token?: string;
    transformsDir?: string;
  };
  logging?: {
    consoleLevel?: "silent" | "fatal" | "error" | "warn" | "info" | "debug" | "trace";
    consoleStyle?: "pretty" | "compact" | "json";
    file?: string;
    level?: "silent" | "fatal" | "error" | "warn" | "info" | "debug" | "trace";
    redactPatterns?: string[];
    redactSensitive?: "off" | "tools";
  };
  media?: {
    preserveFilenames?: boolean;
  };
  messages?: {
    ackReaction?: string;
    ackReactionScope?: "group-mentions" | "group-all" | "direct" | "all";
    groupChat?: {
      historyLimit?: number;
      mentionPatterns?: string[];
    };
    inbound?: {
      byChannel?: {
        [k: string]: number;
      };
      debounceMs?: number;
    };
    messagePrefix?: string;
    queue?: {
      byChannel?: {
        discord?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        imessage?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        mattermost?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        msteams?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        signal?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        slack?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        telegram?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        webchat?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
        whatsapp?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
      };
      cap?: number;
      debounceMs?: number;
      debounceMsByChannel?: {
        [k: string]: number;
      };
      drop?: "old" | "new" | "summarize";
      mode?: "steer" | "followup" | "collect" | "steer-backlog" | "steer+backlog" | "queue" | "interrupt";
    };
    removeAckAfterReply?: boolean;
    responsePrefix?: string;
    tts?: {
      auto?: "off" | "always" | "inbound" | "tagged";
      edge?: {
        enabled?: boolean;
        lang?: string;
        outputFormat?: string;
        pitch?: string;
        proxy?: string;
        rate?: string;
        saveSubtitles?: boolean;
        timeoutMs?: number;
        voice?: string;
        volume?: string;
      };
      elevenlabs?: {
        apiKey?: string;
        applyTextNormalization?: "auto" | "on" | "off";
        baseUrl?: string;
        languageCode?: string;
        modelId?: string;
        seed?: number;
        voiceId?: string;
        voiceSettings?: {
          similarityBoost?: number;
          speed?: number;
          stability?: number;
          style?: number;
          useSpeakerBoost?: boolean;
        };
      };
      enabled?: boolean;
      maxTextLength?: number;
      mode?: "final" | "all";
      modelOverrides?: {
        allowModelId?: boolean;
        allowNormalization?: boolean;
        allowProvider?: boolean;
        allowSeed?: boolean;
        allowText?: boolean;
        allowVoice?: boolean;
        allowVoiceSettings?: boolean;
        enabled?: boolean;
      };
      openai?: {
        apiKey?: string;
        model?: string;
        voice?: string;
      };
      prefsPath?: string;
      provider?: "elevenlabs" | "openai" | "edge";
      summaryModel?: string;
      timeoutMs?: number;
    };
  };
  meta?: {
    lastTouchedAt?: string;
    lastTouchedVersion?: string;
  };
  models?: {
    bedrockDiscovery?: {
      defaultContextWindow?: number;
      defaultMaxTokens?: number;
      enabled?: boolean;
      providerFilter?: string[];
      refreshInterval?: number;
      region?: string;
    };
    mode?: "merge" | "replace";
    providers?: {
      [k: string]: {
        api?:
          | "openai-completions"
          | "openai-responses"
          | "anthropic-messages"
          | "google-generative-ai"
          | "github-copilot"
          | "bedrock-converse-stream";
        apiKey?: string;
        auth?: "api-key" | "aws-sdk" | "oauth" | "token";
        authHeader?: boolean;
        baseUrl: string;
        headers?: {
          [k: string]: string;
        };
        models: {
          api?:
            | "openai-completions"
            | "openai-responses"
            | "anthropic-messages"
            | "google-generative-ai"
            | "github-copilot"
            | "bedrock-converse-stream";
          compat?: {
            maxTokensField?: "max_completion_tokens" | "max_tokens";
            supportsDeveloperRole?: boolean;
            supportsReasoningEffort?: boolean;
            supportsStore?: boolean;
          };
          contextWindow?: number;
          cost?: {
            cacheRead?: number;
            cacheWrite?: number;
            input?: number;
            output?: number;
          };
          headers?: {
            [k: string]: string;
          };
          id: string;
          input?: ("text" | "image")[];
          maxTokens?: number;
          name: string;
          reasoning?: boolean;
        }[];
      };
    };
  };
  nodeHost?: {
    browserProxy?: {
      allowProfiles?: string[];
      enabled?: boolean;
    };
  };
  plugins?: {
    allow?: string[];
    deny?: string[];
    enabled?: boolean;
    entries?: {
      bluebubbles?: {
        config?: {};
        enabled?: boolean;
      };
      "copilot-proxy"?: {
        config?: {};
        enabled?: boolean;
      };
      "diagnostics-otel"?: {
        config?: {};
        enabled?: boolean;
      };
      discord?: {
        config?: {};
        enabled?: boolean;
      };
      "google-antigravity-auth"?: {
        config?: {};
        enabled?: boolean;
      };
      "google-gemini-cli-auth"?: {
        config?: {};
        enabled?: boolean;
      };
      googlechat?: {
        config?: {};
        enabled?: boolean;
      };
      imessage?: {
        config?: {};
        enabled?: boolean;
      };
      line?: {
        config?: {};
        enabled?: boolean;
      };
      "llm-task"?: {
        config?: {
          /**
           * Allowlist of provider/model keys like openai-codex/gpt-5.2.
           */
          allowedModels?: string[];
          defaultAuthProfileId?: string;
          defaultModel?: string;
          defaultProvider?: string;
          maxTokens?: number;
          timeoutMs?: number;
        };
        enabled?: boolean;
      };
      lobster?: {
        config?: {};
        enabled?: boolean;
      };
      matrix?: {
        config?: {};
        enabled?: boolean;
      };
      mattermost?: {
        config?: {};
        enabled?: boolean;
      };
      "memory-core"?: {
        config?: {};
        enabled?: boolean;
      };
      "memory-lancedb"?: {
        config?: {
          autoCapture?: boolean;
          autoRecall?: boolean;
          dbPath?: string;
          embedding: {
            apiKey: string;
            model?: "text-embedding-3-small" | "text-embedding-3-large";
          };
        };
        enabled?: boolean;
      };
      "minimax-portal-auth"?: {
        config?: {};
        enabled?: boolean;
      };
      msteams?: {
        config?: {};
        enabled?: boolean;
      };
      "nextcloud-talk"?: {
        config?: {};
        enabled?: boolean;
      };
      nostr?: {
        config?: {};
        enabled?: boolean;
      };
      "open-prose"?: {
        config?: {};
        enabled?: boolean;
      };
      "qwen-portal-auth"?: {
        config?: {};
        enabled?: boolean;
      };
      signal?: {
        config?: {};
        enabled?: boolean;
      };
      slack?: {
        config?: {};
        enabled?: boolean;
      };
      telegram?: {
        config?: {};
        enabled?: boolean;
      };
      tlon?: {
        config?: {};
        enabled?: boolean;
      };
      twitch?: {
        config?: {};
        enabled?: boolean;
      };
      "voice-call"?: {
        config?: {
          allowFrom?: string[];
          enabled?: boolean;
          fromNumber?: string;
          inboundGreeting?: string;
          inboundPolicy?: "disabled" | "allowlist" | "pairing" | "open";
          maxConcurrentCalls?: number;
          maxDurationSeconds?: number;
          outbound?: {
            defaultMode?: "notify" | "conversation";
            notifyHangupDelaySec?: number;
          };
          plivo?: {
            authId?: string;
            authToken?: string;
          };
          provider?: "telnyx" | "twilio" | "plivo" | "mock";
          publicUrl?: string;
          responseModel?: string;
          responseSystemPrompt?: string;
          responseTimeoutMs?: number;
          ringTimeoutMs?: number;
          serve?: {
            bind?: string;
            path?: string;
            port?: number;
          };
          silenceTimeoutMs?: number;
          skipSignatureVerification?: boolean;
          store?: string;
          streaming?: {
            enabled?: boolean;
            openaiApiKey?: string;
            silenceDurationMs?: number;
            streamPath?: string;
            sttModel?: string;
            sttProvider?: "openai-realtime";
            vadThreshold?: number;
          };
          stt?: {
            model?: string;
            provider?: "openai";
          };
          tailscale?: {
            mode?: "off" | "serve" | "funnel";
            path?: string;
          };
          telnyx?: {
            apiKey?: string;
            connectionId?: string;
            publicKey?: string;
          };
          toNumber?: string;
          transcriptTimeoutMs?: number;
          tts?: {
            auto?: "off" | "always" | "inbound" | "tagged";
            edge?: {
              enabled?: boolean;
              lang?: string;
              outputFormat?: string;
              pitch?: string;
              proxy?: string;
              rate?: string;
              saveSubtitles?: boolean;
              timeoutMs?: number;
              voice?: string;
              volume?: string;
            };
            elevenlabs?: {
              apiKey?: string;
              applyTextNormalization?: "auto" | "on" | "off";
              baseUrl?: string;
              languageCode?: string;
              modelId?: string;
              seed?: number;
              voiceId?: string;
              voiceSettings?: {
                similarityBoost?: number;
                speed?: number;
                stability?: number;
                style?: number;
                useSpeakerBoost?: boolean;
              };
            };
            enabled?: boolean;
            maxTextLength?: number;
            mode?: "final" | "all";
            modelOverrides?: {
              allowModelId?: boolean;
              allowNormalization?: boolean;
              allowProvider?: boolean;
              allowSeed?: boolean;
              allowText?: boolean;
              allowVoice?: boolean;
              allowVoiceSettings?: boolean;
              enabled?: boolean;
            };
            openai?: {
              apiKey?: string;
              model?: string;
              voice?: string;
            };
            prefsPath?: string;
            provider?: "openai" | "elevenlabs" | "edge";
            summaryModel?: string;
            timeoutMs?: number;
          };
          tunnel?: {
            allowNgrokFreeTierLoopbackBypass?: boolean;
            ngrokAuthToken?: string;
            ngrokDomain?: string;
            provider?: "none" | "ngrok" | "tailscale-serve" | "tailscale-funnel";
          };
          twilio?: {
            accountSid?: string;
            authToken?: string;
          };
        };
        enabled?: boolean;
      };
      whatsapp?: {
        config?: {};
        enabled?: boolean;
      };
      zalo?: {
        config?: {};
        enabled?: boolean;
      };
      zalouser?: {
        config?: {};
        enabled?: boolean;
      };
      [k: string]: {
        config?: {
          [k: string]: unknown;
        };
        enabled?: boolean;
      };
    };
    installs?: {
      [k: string]: {
        installedAt?: string;
        installPath?: string;
        source: "npm" | "archive" | "path";
        sourcePath?: string;
        spec?: string;
        version?: string;
      };
    };
    load?: {
      paths?: string[];
    };
    slots?: {
      memory?: string;
    };
  };
  session?: {
    agentToAgent?: {
      maxPingPongTurns?: number;
    };
    dmScope?: "main" | "per-peer" | "per-channel-peer" | "per-account-channel-peer";
    identityLinks?: {
      [k: string]: string[];
    };
    idleMinutes?: number;
    mainKey?: string;
    reset?: {
      atHour?: number;
      idleMinutes?: number;
      mode?: "daily" | "idle";
    };
    resetByChannel?: {
      [k: string]: {
        atHour?: number;
        idleMinutes?: number;
        mode?: "daily" | "idle";
      };
    };
    resetByType?: {
      dm?: {
        atHour?: number;
        idleMinutes?: number;
        mode?: "daily" | "idle";
      };
      group?: {
        atHour?: number;
        idleMinutes?: number;
        mode?: "daily" | "idle";
      };
      thread?: {
        atHour?: number;
        idleMinutes?: number;
        mode?: "daily" | "idle";
      };
    };
    resetTriggers?: string[];
    scope?: "per-sender" | "global";
    sendPolicy?: {
      default?: "allow" | "deny";
      rules?: {
        action: "allow" | "deny";
        match?: {
          channel?: string;
          chatType?: "direct" | "group" | "channel";
          keyPrefix?: string;
        };
      }[];
    };
    store?: string;
    typingIntervalSeconds?: number;
    typingMode?: "never" | "instant" | "thinking" | "message";
  };
  skills?: {
    allowBundled?: string[];
    entries?: {
      [k: string]: {
        apiKey?: string;
        config?: {
          [k: string]: unknown;
        };
        enabled?: boolean;
        env?: {
          [k: string]: string;
        };
      };
    };
    install?: {
      nodeManager?: "npm" | "pnpm" | "yarn" | "bun";
      preferBrew?: boolean;
    };
    load?: {
      extraDirs?: string[];
      watch?: boolean;
      watchDebounceMs?: number;
    };
  };
  talk?: {
    apiKey?: string;
    interruptOnSpeech?: boolean;
    modelId?: string;
    outputFormat?: string;
    voiceAliases?: {
      [k: string]: string;
    };
    voiceId?: string;
  };
  tools?: {
    agentToAgent?: {
      allow?: string[];
      enabled?: boolean;
    };
    allow?: string[];
    alsoAllow?: string[];
    byProvider?: {
      [k: string]: {
        allow?: string[];
        alsoAllow?: string[];
        deny?: string[];
        profile?: "minimal" | "coding" | "messaging" | "full";
      };
    };
    deny?: string[];
    elevated?: {
      allowFrom?: {
        [k: string]: (string | number)[];
      };
      enabled?: boolean;
    };
    exec?: {
      applyPatch?: {
        allowModels?: string[];
        enabled?: boolean;
      };
      ask?: "off" | "on-miss" | "always";
      backgroundMs?: number;
      cleanupMs?: number;
      host?: "sandbox" | "gateway" | "node";
      node?: string;
      notifyOnExit?: boolean;
      pathPrepend?: string[];
      safeBins?: string[];
      security?: "deny" | "allowlist" | "full";
      timeoutSec?: number;
    };
    links?: {
      enabled?: boolean;
      maxLinks?: number;
      models?: {
        args?: string[];
        command: string;
        timeoutSeconds?: number;
        type?: "cli";
      }[];
      scope?: {
        default?: "allow" | "deny";
        rules?: {
          action: "allow" | "deny";
          match?: {
            channel?: string;
            chatType?: "direct" | "group" | "channel";
            keyPrefix?: string;
          };
        }[];
      };
      timeoutSeconds?: number;
    };
    media?: {
      audio?: {
        attachments?: {
          maxAttachments?: number;
          mode?: "first" | "all";
          prefer?: "first" | "last" | "path" | "url";
        };
        baseUrl?: string;
        deepgram?: {
          detectLanguage?: boolean;
          punctuate?: boolean;
          smartFormat?: boolean;
        };
        enabled?: boolean;
        headers?: {
          [k: string]: string;
        };
        language?: string;
        maxBytes?: number;
        maxChars?: number;
        models?: {
          args?: string[];
          baseUrl?: string;
          capabilities?: ("image" | "audio" | "video")[];
          command?: string;
          deepgram?: {
            detectLanguage?: boolean;
            punctuate?: boolean;
            smartFormat?: boolean;
          };
          headers?: {
            [k: string]: string;
          };
          language?: string;
          maxBytes?: number;
          maxChars?: number;
          model?: string;
          preferredProfile?: string;
          profile?: string;
          prompt?: string;
          provider?: string;
          providerOptions?: {
            [k: string]: {
              [k: string]: string | number | boolean;
            };
          };
          timeoutSeconds?: number;
          type?: "provider" | "cli";
        }[];
        prompt?: string;
        providerOptions?: {
          [k: string]: {
            [k: string]: string | number | boolean;
          };
        };
        scope?: {
          default?: "allow" | "deny";
          rules?: {
            action: "allow" | "deny";
            match?: {
              channel?: string;
              chatType?: "direct" | "group" | "channel";
              keyPrefix?: string;
            };
          }[];
        };
        timeoutSeconds?: number;
      };
      concurrency?: number;
      image?: {
        attachments?: {
          maxAttachments?: number;
          mode?: "first" | "all";
          prefer?: "first" | "last" | "path" | "url";
        };
        baseUrl?: string;
        deepgram?: {
          detectLanguage?: boolean;
          punctuate?: boolean;
          smartFormat?: boolean;
        };
        enabled?: boolean;
        headers?: {
          [k: string]: string;
        };
        language?: string;
        maxBytes?: number;
        maxChars?: number;
        models?: {
          args?: string[];
          baseUrl?: string;
          capabilities?: ("image" | "audio" | "video")[];
          command?: string;
          deepgram?: {
            detectLanguage?: boolean;
            punctuate?: boolean;
            smartFormat?: boolean;
          };
          headers?: {
            [k: string]: string;
          };
          language?: string;
          maxBytes?: number;
          maxChars?: number;
          model?: string;
          preferredProfile?: string;
          profile?: string;
          prompt?: string;
          provider?: string;
          providerOptions?: {
            [k: string]: {
              [k: string]: string | number | boolean;
            };
          };
          timeoutSeconds?: number;
          type?: "provider" | "cli";
        }[];
        prompt?: string;
        providerOptions?: {
          [k: string]: {
            [k: string]: string | number | boolean;
          };
        };
        scope?: {
          default?: "allow" | "deny";
          rules?: {
            action: "allow" | "deny";
            match?: {
              channel?: string;
              chatType?: "direct" | "group" | "channel";
              keyPrefix?: string;
            };
          }[];
        };
        timeoutSeconds?: number;
      };
      models?: {
        args?: string[];
        baseUrl?: string;
        capabilities?: ("image" | "audio" | "video")[];
        command?: string;
        deepgram?: {
          detectLanguage?: boolean;
          punctuate?: boolean;
          smartFormat?: boolean;
        };
        headers?: {
          [k: string]: string;
        };
        language?: string;
        maxBytes?: number;
        maxChars?: number;
        model?: string;
        preferredProfile?: string;
        profile?: string;
        prompt?: string;
        provider?: string;
        providerOptions?: {
          [k: string]: {
            [k: string]: string | number | boolean;
          };
        };
        timeoutSeconds?: number;
        type?: "provider" | "cli";
      }[];
      video?: {
        attachments?: {
          maxAttachments?: number;
          mode?: "first" | "all";
          prefer?: "first" | "last" | "path" | "url";
        };
        baseUrl?: string;
        deepgram?: {
          detectLanguage?: boolean;
          punctuate?: boolean;
          smartFormat?: boolean;
        };
        enabled?: boolean;
        headers?: {
          [k: string]: string;
        };
        language?: string;
        maxBytes?: number;
        maxChars?: number;
        models?: {
          args?: string[];
          baseUrl?: string;
          capabilities?: ("image" | "audio" | "video")[];
          command?: string;
          deepgram?: {
            detectLanguage?: boolean;
            punctuate?: boolean;
            smartFormat?: boolean;
          };
          headers?: {
            [k: string]: string;
          };
          language?: string;
          maxBytes?: number;
          maxChars?: number;
          model?: string;
          preferredProfile?: string;
          profile?: string;
          prompt?: string;
          provider?: string;
          providerOptions?: {
            [k: string]: {
              [k: string]: string | number | boolean;
            };
          };
          timeoutSeconds?: number;
          type?: "provider" | "cli";
        }[];
        prompt?: string;
        providerOptions?: {
          [k: string]: {
            [k: string]: string | number | boolean;
          };
        };
        scope?: {
          default?: "allow" | "deny";
          rules?: {
            action: "allow" | "deny";
            match?: {
              channel?: string;
              chatType?: "direct" | "group" | "channel";
              keyPrefix?: string;
            };
          }[];
        };
        timeoutSeconds?: number;
      };
    };
    message?: {
      allowCrossContextSend?: boolean;
      broadcast?: {
        enabled?: boolean;
      };
      crossContext?: {
        allowAcrossProviders?: boolean;
        allowWithinProvider?: boolean;
        marker?: {
          enabled?: boolean;
          prefix?: string;
          suffix?: string;
        };
      };
    };
    profile?: "minimal" | "coding" | "messaging" | "full";
    sandbox?: {
      tools?: {
        allow?: string[];
        alsoAllow?: string[];
        deny?: string[];
      };
    };
    subagents?: {
      tools?: {
        allow?: string[];
        alsoAllow?: string[];
        deny?: string[];
      };
    };
    web?: {
      fetch?: {
        cacheTtlMinutes?: number;
        enabled?: boolean;
        maxChars?: number;
        maxRedirects?: number;
        timeoutSeconds?: number;
        userAgent?: string;
      };
      search?: {
        apiKey?: string;
        cacheTtlMinutes?: number;
        enabled?: boolean;
        maxResults?: number;
        perplexity?: {
          apiKey?: string;
          baseUrl?: string;
          model?: string;
        };
        provider?: "brave" | "perplexity";
        timeoutSeconds?: number;
      };
    };
  };
  ui?: {
    assistant?: {
      avatar?: string;
      name?: string;
    };
    seamColor?: string;
  };
  update?: {
    channel?: "stable" | "beta" | "dev";
    checkOnStart?: boolean;
  };
  web?: {
    enabled?: boolean;
    heartbeatSeconds?: number;
    reconnect?: {
      factor?: number;
      initialMs?: number;
      jitter?: number;
      maxAttempts?: number;
      maxMs?: number;
    };
  };
  wizard?: {
    lastRunAt?: string;
    lastRunCommand?: string;
    lastRunCommit?: string;
    lastRunMode?: "local" | "remote";
    lastRunVersion?: string;
  };
}

export const OPENCLAW_REV = "92112a61db519296a7258d508677aa6c49f9a558" as const;
export type OpenclawChannels = OpenclawConfig["channels"];
export type OpenclawAgents = OpenclawConfig["agents"];
export type OpenclawHooks = OpenclawConfig["hooks"];
export type OpenclawSkills = OpenclawConfig["skills"];
export type OpenclawPlugins = OpenclawConfig["plugins"];
